(function(t){function e(e){for(var n,r,s=e[0],c=e[1],u=e[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={"user/orderList":0},o=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="//s02.mifile.cn/assets/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([78,"chunk-vendors"]),a()})({"0128":function(t,e,a){"use strict";var n=a("9302");function i(t,e){1===t.nodeType&&(Object(n["a"])(t,e)||(t.className+=" "+e))}e["a"]=i},"0542":function(t,e,a){},"070a":function(t,e,a){"use strict";var n=a("9b57"),i=a.n(n);i.a},"0999":function(t,e,a){},"19ee":function(t,e,a){},"1b9e":function(t,e,a){"use strict";a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("87b3"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("262f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":t.opened,"after-leave":t.closed}},[t.visible?a("mi-popup",{on:{"popup-mask-click":t.clickMask}},[a("div",{ref:"J_MI_DIALOG",staticClass:"mi-dialog__wrapper",class:t.dialogClass,style:{width:t.width}},[a("div",{staticClass:"mi-dialog",attrs:{"aria-modal":"true"}},[[t.isHideHeader?t._e():a("div",{staticClass:"mi-dialog__header"},[a("span",{staticClass:"mi-dialog__title"},[t._v(t._s(t.title))])]),a("a",{staticClass:"mi-dialog__headerbtn",class:{"no-header":t.isHideHeader},on:{click:t.close}},[a("i",{staticClass:"mi-dialog__close iconfont"},[t._v("")])])],a("div",{staticClass:"mi-dialog__body",class:{"no-header":t.isHideHeader}},[a("div",{ref:"J_MI_DIALOG__BODY",staticClass:"mi-dialog__inner",attrs:{id:"J_aaa"}})]),"confirm"===t.type?a("div",{staticClass:"el-dialog__footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.ok}},[t._v(t._s(t.okText))]),a("button",{staticClass:"btn btn-gray",on:{click:t.close}},[t._v(t._s(t.cancelText))])]):t._e(),"alert"===t.type?a("div",{staticClass:"el-dialog__footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.close}},[t._v(t._s(t.okText))])]):t._e(),"confirmation"===t.type?a("div",{staticClass:"el-dialog__footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.ok}},[t._v(t._s(t.okText))]),a("button",{staticClass:"btn btn-gray",on:{click:t.cancel}},[t._v(t._s(t.cancelText))])]):t._e(),"verify"===t.type?a("div",{staticClass:"el-dialog__footer"},[a("button",{staticClass:"btn btn-primary",on:{click:t.ok}},[t._v(t._s(t.okText))])]):t._e()],2)])]):t._e()],1)},i=[],o=a("87aa"),r={name:"MiDialog",components:{MiPopup:o["a"]},data:function(){return{visible:!1,type:"plain",title:"",width:"800px",isHideHeader:!1,dialogClass:"",contentData:"",okText:"确定",cancelText:"取消"}},created:function(){},methods:{open:function(){this.visible=!0,this.$emit("open")},opened:function(t){this.$emit("opened",t)},close:function(t){this.visible=!1,this.$emit("close",t)},closed:function(){this.$emit("closed")},clickMask:function(){this.$emit("mi-popup-mask-click")},ok:function(t){this.$emit("ok",t)},cancel:function(t){this.$emit("cancel",t)}}},s=r,c=(a("d4c3"),a("2877")),u=Object(c["a"])(s,n,i,!1,null,"54b15c30",null),l=u.exports,d={},m=null;d.install=function(t){t.component(l.name,l);var e=new t(l).$mount();document.body.appendChild(e.$el),t.prototype.$dialog=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.type=a.type||"plain",e.title=a.title||"",e.dialogClass=a.dialogClass||"",e.isHideHeader=a.isHideHeader,e.contentData=a.contentData,e.width=a.width||"800px",e.cancelText=a.cancelText||"取消",e.okText=a.okText||"确定";var n=t.extend({name:"dia-content",template:'<div class="mi-dialog__inner">'.concat(a.content,"</div>"),data:function(){return e.$data},components:a.components||{}}),i=function(){e.$off("opened"),e.$off("closed"),e.$off("open"),e.$off("close"),e.$off("mi-popup-mask-click"),e.$off("ok"),e.$off("cancel"),m&&m.$destroy&&(m.$destroy(),m=null)},o=function(){i(),e.$on("opened",(function(){a.opened&&a.opened(m)})),e.$on("closed",(function(){a.closed&&a.closed()})),e.$on("open",(function(){a.open&&a.open()})),e.$on("close",(function(){a.close&&a.close(m)})),e.$on("mi-popup-mask-click",(function(){a.clickMask&&a.clickMask()})),e.$off("ok").$on("ok",(function(){a.ok&&a.ok(m)})),e.$off("cancel").$on("cancel",(function(){a.cancel&&a.cancel(m)})),e.open(),e.$nextTick((function(){m=(new n).$mount(e.$refs.J_MI_DIALOG__BODY)}))},r=function(){e.close()};return o(),{hide:r,show:o,destroy:i,open:o}}};var f=d,p=a("a026"),h=a("caf9"),g=a("a417"),v=a("efd9");function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(a,!0).forEach((function(e){w(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function w(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function y(){var t=!(!document.all||window.atob);t&&(window.location.href=g["a"].host.wwwSite+"/updateBrowser/index.html")}function C(){}function S(){"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var a=0;a<this.length;a++)t.call(e,this[a],a,this)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){var e=(this.document||this.ownerDocument).querySelectorAll(t),a=e.length;while(--a>=0&&e.item(a)!==this);return a>-1})}function D(){y(),p["a"].use(f),p["a"].use(h["a"],{filter:{httpFormat:function(t,e){t.src&&(t.src=t.src.replace(/^http(s?):/i,""))}},attempt:1}),p["a"].mixin({methods:b({},v["a"])}),S(),C()}D()},"1bbb":function(t,e,a){},"1eba":function(t,e,a){},2059:function(t,e,a){"use strict";var n=a("19ee"),i=a.n(n);i.a},2166:function(t,e,a){"use strict";var n=a("7f19"),i=a("a417");e["a"]={add:function(t,e){return Object(n["a"])(i["a"].host.orderApi+"/cart/add/"+t.gid,t,e)},multiAddCart:function(t,e){return Object(n["a"])(i["a"].host.orderApi+"/cart/multiadd",t,e)},delete:function(t,e){return Object(n["a"])(i["a"].host.orderApi+"/cart/delete/"+t.gid,t,e)},getMiniCartList:function(t,e){return Object(n["a"])(i["a"].host.orderApi+"/cart/miniNew",t,e)}}},"26ee":function(t,e,a){"use strict";var n=a("7f19"),i=a("a417"),o={getUserStatus:function(t,e){return Object(n["a"])("".concat(i["a"].host.serviceApi,"/user_comment/get_uncomment_count"),t,e)}};e["a"]=o},2907:function(t,e,a){"use strict";var n=function(t){return new Promise((function(e,a){var n=document.getElementsByTagName("body")[0],i=document.createElement("script");i.type="text/javascript",i.async="async",i.onreadystatechange=function(){"complete"==this.readyState&&e()},i.onload=function(){e()},a&&(i.onerror=function(){a()}),i.src=t,n.appendChild(i)}))},i=function(t){window.servertime?t(window.servertime):n("//time.hd.mi.com/gettimestamp").then((function(){window.servertime&&"number"===typeof window.servertime?(window.servertime=window.servertime,window.diffTime=window.servertime-parseInt((new Date).getTime()/1e3)):window.servertime=parseInt((new Date).getTime()/1e3),"function"===typeof t&&t(window.servertime)}),(function(){"function"===typeof t&&t(window.servertime),window.servertime=parseInt((new Date).getTime()/1e3)}))};e["a"]=i},"2ec8":function(t,e,a){"use strict";function n(t,e,a){if(arguments.length>1&&"[object Object]"!==String(e)){if(a=Object.assign({},a),null!==e&&void 0!==e||(a.expires=-1),"number"===typeof a.expires){var n=a.expires,i=a.expires=new Date;i.setDate(i.getDate()+n)}return e=String(e),document.cookie=[encodeURIComponent(t),"=",a.raw?e:encodeURIComponent(e),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var o;a=e||{};var r=a.raw?function(t){return t}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?r(o[1]):null}e["a"]=n},"2f0b":function(t,e,a){"use strict";var n=a("1bbb"),i=a.n(n);i.a},"314b":function(t,e,a){"use strict";var n=function(t){var e,a,n=/[^<>]+|<(\/?)([A-Za-z0-9]+)([^<>]*)>/g,i=[];while(e=n.exec(t)){var o=[];for(a=0;a<e.length;a+=1)o.push(e[a]);i.push(o)}return i};function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o=/([a-z\d-]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^\s]+)))?/gi,r=/^on([a-z\d-]*)$/i,s=/&#(x?)([a-z\d]*);?/gi,c=/(javascript|vbscript|expression|applet)/i,u=/^(audio|video|html|object|embed|param|body|head|form|script|iframe|expression|applet|meta|xml|blink|style|frame|frameset|ilayer|layer|bgsound|title|base)$/i,l=function(t){return t.replace(o,(function(t,e,a){var n=t.replace(s,(function(){var t=arguments[1],e=arguments[2];return String.fromCharCode(t?parseInt(e,16):e)})).replace(/(\s|%20)/g,"");return c.test(n)||r.test(e)?"":t}))},d=function(t){var e=t[0],a=t[1],n=t[2],i=t[3];return u.test(n)?"":n&&i?a?["</",n,">"].join(""):["<",n," ",l(i),">"].join(""):e},m=function(t,e){for(var a=[],n=0,i=t.length;n<i;n+=1){var o=e(t[n],n);if(!1===o)break;null!==o&&(a[n]=o)}return a},f=function(t,e){var a={};for(var n in t){var i=e(t[n],n);if(!1===i)break;null!==i&&(a[n]=i)}return a},p=function(t,e){return Array.isArray(t)||t.length&&void 0!==t[0]?m(t,e):"object"===i(t)?f(t,e):null};e["a"]=function(t){var e=n(t);return e=p(e,d),e.join("")}},"31bc":function(t,e,a){"use strict";a.r(e);a("0999");var n=a("91bf"),i=a("7f19"),o=a("a417"),r={getPrice:function(t,e){return Object(i["a"])(o["a"].host.hdaSite+"/postfree/postfree",t,e)},getSafeAuth:function(t,e){return Object(i["a"])(o["a"].host.serviceApi+"/footer/safe_auth",t,e)}},s=a("2907"),c=a("0128"),u=a("9f77");function l(t){return f(t)||m(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function f(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}e["default"]=function(t,e){var a={Dom:{},objs:{},safeAuthTime:null,domEvtFuns:{weixinDialog:function(){t.$dialog({title:"小米手机官方微信二维码",width:"720px",dialogClass:"site-weixin-dia",content:'<img alt="" src="//i1.mifile.cn/f/i/17/site/weixin.jpg" width="680" height="340">'})},contactDialog:function(){var e=this.getAttribute("product_id"),a=this.getAttribute("gid"),n={pids:e,gids:a};t.showContact(n)},resetPrice:function(t,e){t>=e.data.start_time&&t<=e.data.end_time&&(a.Dom.$footerPrice.innerHTML="满".concat(e.data.price,"包邮").concat(e.data.cart_info?e.data.cart_info:""))},getPrice:function(){r.getPrice().then((function(t){t&&0===t.code&&t.data&&Object(s["a"])((function(e){a.domEvtFuns.resetPrice(e,t)}))}))}}},i=function(){if(!e)throw"args el is needed."},o=function(){a.Dom.$weixin=e.querySelector("#J_siteWeixinCode"),a.Dom.$weixinSub=document.querySelectorAll('[data-show-weixin="true"]'),a.Dom.$weixinDom=e.querySelector("#J_followWx"),a.Dom.$weixinImg=e.querySelector("#J_followWxImg"),a.Dom.$contactBtn=document.getElementsByClassName("J_contactBtn"),a.Dom.$footerPrice=document.getElementById("J_footerPrice"),a.Dom.$footerPrice&&a.domEvtFuns.getPrice()},d=function(){r.getSafeAuth().then((function(t){if(t&&200===t.code&&t.data){var e=t.data;if(a.Dom.$footer=document.getElementsByClassName("site-info"),a.Dom.$footer&&a.Dom.$footer.length>0&&(a.Dom.$linksBox=a.Dom.$footer[0].getElementsByClassName("info-links"),a.Dom.$linksBox&&a.Dom.$linksBox.length>0)){var n='<a rel="nofollow" href="'.concat(e.click_url?e.click_url:"javascript:void(0)",'" class="safe-auth J_safeAuth"><img rel="nofollow" src="').concat(e.first_image,'" class="img1"><img rel="nofollow" src="').concat(e.second_image,'" class="img2"></a>');a.Dom.$linksBox[0].innerHTML+=n;var i=a.Dom.$footer[0].getElementsByClassName("J_safeAuth")[0],o=1;a.safeAuthTime=setInterval((function(){o++,o%2==0?Object(c["a"])(i,"active"):Object(u["a"])(i,"active")}),3e3)}}}))},m=function(){n["a"].addEvt(a.Dom.$weixin,"click",a.domEvtFuns.weixinDialog),l(a.Dom.$weixinSub).length&&l(a.Dom.$weixinSub).forEach((function(t){n["a"].addEvt(t,"click",a.domEvtFuns.weixinDialog)})),n["a"].addEvt(a.Dom.$weixinDom,"click",(function(){a.Dom.$weixinImg.style.display="block"})),n["a"].addEvt(a.Dom.$weixinDom,"mouseenter",(function(){a.Dom.$weixinImg.style.display="block"})),n["a"].addEvt(a.Dom.$weixinDom,"mouseleave",(function(){a.Dom.$weixinImg.style.display="none"})),l(a.Dom.$contactBtn).length&&l(a.Dom.$contactBtn).forEach((function(t){n["a"].addEvt(t,"click",a.domEvtFuns.contactDialog)}))},f=function(){if(a){for(var t in a.safeAuthTime&&clearInterval(a.safeAuthTime),a.objs){var e=a.objs[t];e&&e.destroy&&e.destroy()}a=null}},p=function(){i(),o(),d(),m()};return p(),{destroy:f}}},"341d":function(t,e,a){},3575:function(t,e,a){"use strict";a.r(e);a("3dfd");var n=a("26ee"),i=a("2ec8");e["default"]=function(){var t={Dom:{},getUserStatus:function(){var t=this;n["a"].getUserStatus({bts:Object(i["a"])("xm_order_btauth")},{name:"getUserStatus"}).then((function(e){if(e&&200==e.code)for(var a in e.data)e.data.hasOwnProperty(a)&&e.data[a]>0&&t.updateDom(a,e.data[a])}))},updateDom:function(e,a){parseInt(a)>99&&(a="99+");var n,i=t.Dom.$userMenu.querySelector("#J_".concat(e));switch(i.getAttribute("data-name")){case"bracket":n="（".concat(a,"）");break;case"bubble":n='<span class="bubble">'.concat(a,"</span>");break;default:n=a}i.append(n)}},e=function(){},a=function(){t.Dom.$userMenu=document.querySelector("#J_userMenu")},o=function(){},r=function(){},s=function(){},c=function(){e(),a(),o(),r()};return c(),{destroy:s}}},"3bf3":function(t,e,a){},"3c4d":function(t,e,a){},"3dfd":function(t,e,a){},"4b22":function(t,e,a){"use strict";var n=a("a5e6"),i=a.n(n);i.a},"4de9":function(t,e,a){},6056:function(t,e,a){},"62fd":function(t,e,a){},6522:function(t,e,a){"use strict";function n(t,e){var a=document.documentElement.scrollTop||document.body.scrollTop,n=setInterval((function(){a+=Math.abs((t-a)/10)>1?(t-a)/10:a>t?-1:1,document.documentElement.scrollTop=a,document.body.scrollTop=a,Math.abs(a-t)<=1&&(document.documentElement.scrollTop=t,document.body.scrollTop=t,clearInterval(n))}),e)}e["a"]=n},"751a":function(t,e,a){"use strict";var n=a("bc3a"),i=a.n(n),o=a("a417"),r=/^mock\./.test(window.location.host),s=!0,c=function(t,e){switch(t){case 404:break;default:}},u=i.a.create({timeout:1e4});u.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",u.defaults["withCredentials"]=!r;var l=function(t){var e=t.split("?");if(!e||e.length<=1)return t;var a=e[1].split("&"),n="";return a.map((function(t){var e=t.split("=");"needLogin"==e[0]?s=e[1]:n+=e[0]+"="+e[1]})),e[0]+(n?"?"+n:n)};u.interceptors.request.use((function(t){return s=!t.params||0!=t.params.needLogin||t.params.needLogin,t.url=l(t.url),t}),(function(t){return Promise.reject(t)})),u.interceptors.response.use((function(t){return 200!==t.status?Promise.reject(t.data):t.data&&-1e4===t.data.code&&s?void(window.location.href=o["a"].host.orderLogin):Promise.resolve(t.data)}),(function(t){var e=t.response;e&&c(e.status,e.data.desc)})),e["a"]=u},78:function(t,e,a){t.exports=a("fd32")},"79a2":function(t,e,a){"use strict";var n=a("cf65"),i=a.n(n);i.a},"7f19":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("f2e8"),i=a.n(n),o=a("a417");function r(t,e,a){t+=(t.indexOf("?")<0?"?":"&")+s(e);var n={needLogin:!0,timeout:6e4};return n=Object.assign({},n,a),new Promise((function(e,a){i()(t,n,(function(t,i){t?a(t):i&&-1e4===i.code&&n.needLogin?window.location.href=o["a"].host.orderLogin:e(i)}))}))}function s(t){var e="";for(var a in t){var n=void 0!==t[a]?t[a]:"";e+="&"+a+"="+encodeURIComponent(n)}return e?e.substring(1):""}},8241:function(t,e,a){},8790:function(t,e,a){"use strict";var n=a("1eba"),i=a.n(n);i.a},"87aa":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visible?a("div",{staticClass:"mi-popup",style:{"z-index":t.zIndex}},[a("transition",{attrs:{name:"mi-modal"}},[t.mask?a("div",{staticClass:"mi-popup__mask mi-modal",on:{click:function(e){return e.stopPropagation(),t.clickMask(e)}}}):t._e()]),a("div",{staticClass:"mi-popup__box"},[a("div",{staticClass:"mi-popup__content"},[t._t("default")],2)])],1):t._e()},i=[],o={name:"MiPopup",props:{mask:{type:Boolean,default:!0},zIndex:{type:Number,default:100}},data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1},clickMask:function(){this.$emit("popup-mask-click")}},mounted:function(){this.show()}},r=o,s=(a("2f0b"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"f6440f00",null);e["a"]=c.exports},8854:function(t,e,a){"use strict";a("0542");var n=a("91bf"),i=a("a417"),o=a("fe6a"),r=a("2ec8"),s=(a("c474"),function(){var t={loopSpeed:8e3,initDelay:3e3,loopTimer:null,login:!1,messageTotal:0,loopCount:0,uid:"",popShow:!1,Dom:{},objs:{},domEvtFuns:{},msgInit:function(e){var a=document.querySelector(".site-mini-header");t.login=e,t.uid=Object(r["a"])("axmuid")?Object(r["a"])("axmuid"):Object(r["a"])("userId"),a||(t.updateDom(),t.uid&&setTimeout((function(){t.getMessage()}),t.initDelay))},updateDom:function(){var e=i["a"].host.wwwSite+"/user/message",a='<span class="sep">|</span><span class="message"><a rel="nofollow" href="javascript:void(0);" data-href="'+e+'" class="J_needAgreement" data-login="true" data-agreement="true">消息通知<i class="J_miMessageTotal"></i></a></span>';t.Dom.$userInfo&&(t.login?t.Dom.$userInfo.querySelector(".user").insertAdjacentHTML("afterend",a):t.Dom.$userInfo.insertAdjacentHTML("beforeend",a))},updateMessageNum:function(){t.messageTotal>0?document.querySelector(".J_miMessageTotal").textContent="（"+t.messageTotal+"）":document.querySelector(".J_miMessageTotal").textContent=""},stopLoop:function(){t.loopTimer&&clearTimeout(t.loopTimer),t.loopSpeed=8e3,t.loopCount=0},creatPopDom:function(t){var e=document.createElement("div"),a=document.createElement("div");e.id="J_miMessagePop",e.className="message-pop-wrapper",a.className="message-pop-content";var n=document.createElement("a");if(n.className="close",n.href="javascript: void(0);",n.innerHTML='<i class="iconfont-close"></i>',t.autoClose){var i=document.createElement("div");i.className="message-countdown",i.innerHTML='<em id="J_messagePopCdTime">5</em> 秒后自动关闭',a.appendChild(i)}var o=document.createElement("a");return o.className="message-link",o.href=t.link,o.onclick="_msq.push(['trackEvent', '"+t.id+"', '"+t.link+"', 'pcpid']);",o.style.backgroundImage="url("+t.image+")",a.appendChild(n),a.appendChild(o),e.appendChild(a),e},getMessage:function(){t.loopCount>0&&t.loopCount%5===0&&t.loopSpeed<=3e4&&(t.loopSpeed=2*t.loopSpeed),t.loopCount+=1,o["a"].getMessage({vpage:location.href},{param:"jsonpcallback",name:"mi_message_callback",needLogin:!1,timeout:1e4}).then((function(e){if(e&&200===e.code&&(t.messageTotal=e.data.count,t.updateMessageNum(),1===e.data.loop?(t.loopTimer&&clearTimeout(t.loopTimer),t.loopTimer=setTimeout((function(){t.getMessage()}),t.loopSpeed)):t.stopLoop(),1===e.data.hasPop&&!t.popShow)){var a=t.getPopDom({id:e.data.popmsg.batch_id,image:e.data.popmsg.adv_img_url,link:e.data.popmsg.target,autoClose:e.data.popmsg.adv_auto_close});if(document.body.appendChild(a),n["a"].addEvt(a.querySelector(".close"),"click",(function(){a.classList.add="hide",setTimeout((function(){a.parentNode.removeChild(a)}),100)})),a.classList.add="active",t.popShow=!0,1===e.data.popmsg.adv_auto_close)var i=document.querySelector("#J_messagePopCdTime"),o=5,r=setInterval((function(){o<=0&&clearInterval(r),i.textContent=o,o-=1}),1e3)}}))}},e=function(){},a=function(){t.Dom.$userInfo=document.querySelector("#J_siteUserInfo")},s=function(){},c=function(){},u=function(){if(t){for(var e in t.objs){var a=t.objs[e];a&&a.destroy&&a.destroy()}t=null}},l=function(){e(),a(),s(),c()};return l(),{destroy:u,init:t.msgInit}}),c=(a("3bf3"),a("986e")),u=function(t){var e={Dom:{},needAgreeCookie:!1,source:"",nextUrl:"",agrContent:{title:"",desc:"",con:"",iframeData:""},objs:{},domEvtFuns:{clickCheck:function(t){var a=t.target,n="",i="",o="";a.getAttribute("data-agreement")&&(n=a.getAttribute("data-href")||"",i=a.getAttribute("data-login")||"",i?o="login":a.getAttribute("data-register")&&(o="register"),e.checkAgreementStatus({url:n,login:i,action:o}))},switchAgreeTab:function(t){var a=t.target;a.classList.contains("agree-tab")&&e.getPageContent(a.getAttribute("data-href"))}},checkAgreementStatus:function(t){if(t&&t.url){e.nextUrl=t.url;var a=/^(dev.test|mock|pc.test|www|item|list|order|cart|order|static|search|mall.10046|huanxin|recharge.10046|).*(mi.com$)/;a.test(window.location.host)?"1"===Object(r["a"])("XM_agreement_sure")&&t.login?window.location.href=t.url:(e.needAgreeCookie=!0,e.getAgreementInfo({action:t.action}).then((function(a){a.data.info.agree_info.length>0&&(t.login||!t.login&&!a.data.has_login)?e.formateAgreement(a.data.info):window.location.href=t.url})).catch((function(e){window.location.href=t.url}))):window.location.href=t.url}},getAgreementInfo:function(t){return new Promise((function(e,a){if(!t);o["a"].getAgreementInfo(t,{param:"jsonpcallback",name:"agreement_info"}).then((function(t){t&&200==t.code&&t.data?e(t):a(t)}),(function(t){a(t)}))}))},formateAgreement:function(t){var a='<div class="desc J_agreeTabs">';t.agree_info.map((function(e,n){a+='<span class="agree-tab" data-href="'.concat(e.link,'">').concat(e.name,"</span>"),n<t.agree_info.length-1&&(a+="、")})),a+=t.desc,e.agrContent.desc="".concat(a,"</div>"),e.agrContent.title=t.title,e.getPageContent(t.agree_info[0].link)},getPageContent:function(t){var a='<div class="con">',n=function(){e.agrContent.con="".concat(e.agrContent.desc+a,"</div>"),e.Dom.$contentWrapper?e.agrContent.iframeData?(e.Dom.$contentWrapper.innerHTML=e.agrContent.con,e.updateIframeContent()):e.Dom.$contentWrapper.innerHTML=e.agrContent.con:e.dialogShow()};/www\.mi\.com/.test(t)?o["a"].getPageContent({page_url:t},{param:"jsonpcallback"}).then((function(t){t&&1==t.code&&t.data&&(e.agrContent.iframeData=t.data,a+='<iframe id="J_agreementContentIframe" width="100%" height="300px" frameborder="0"></iframe>',n())}),(function(t){})):(e.agrContent.iframeData="",a+='<iframe src="'.concat(t,'" width="100%" height="300px" frameborder="0"></iframe>'),n())},updateContent:function(){var t=document.querySelector(".J_siteAgreementDialog");e.Dom.$contentWrapper=t.querySelector("#J_siteAgreementContent"),t.querySelector(".mi-dialog__title").textContent=e.agrContent.title||"协议声明",e.Dom.$contentWrapper.innerHTML=e.agrContent.con,e.updateIframeContent(),n["a"].addEvt(e.Dom.$contentWrapper,"click",e.domEvtFuns.switchAgreeTab)},updateIframeContent:function(){if(e.agrContent.iframeData){var t=e.Dom.$contentWrapper.querySelector("#J_agreementContentIframe");t&&("undefined"===typeof t.srcdoc?(t.contentWindow.document.open(),t.contentWindow.document.write(e.agrContent.iframeData),t.contentWindow.document.close()):t.srcdoc=e.agrContent.iframeData)}},sureAgreement:function(){return new Promise((function(t,a){o["a"].sureAgreement({},{param:"jsonpcallback",name:"agreement_sign"}).then((function(n){n&&200==n.code?(Object(r["a"])("XM_agreement","0",{expires:7,path:"/",domain:"mi.com"}),t(n)):a(),e.objs.$dialog&&e.objs.$dialog.hide()}),(function(t){a(),e.objs.$dialog&&e.objs.$dialog.hide()}))}))},agreeCallback:function(){e.needAgreeCookie&&(Object(r["a"])("XM_agreement","1",{expires:7,path:"/",domain:"mi.com"}),e.needAgreeCookie=!1),"home"==e.source?e.sureAgreement().then((function(t){})).catch((function(t){})):"checkout"==e.source?e.sureAgreement().then((function(t){e.sureCallback&&e.sureCallback()})).catch((function(t){})):(Object(r["a"])("XM_agreement_sure","1",{expires:365,path:"/",domain:"mi.com"}),window.location.href=e.nextUrl)},initCallback:function(t,a){if(e.source=t||"",e.sureCallback=a||"","agreement"!==t)return new Promise((function(n,i){e.getAgreementInfo().then((function(o){o.data.has_login||"home"!==t?(o.data.info.agree_info.length>0?e.formateAgreement(o.data.info):"checkout"===t&&a&&a(),"home"===t&&n()):(i(),e.source="")})).catch((function(e){"home"===t?n():"checkout"===t&&a&&a()}))}));e.sureAgreement().then((function(t){})).catch((function(t){}))},dialogShow:function(){e.objs.$dialog=c["a"].$dialog({type:"confirm",title:"协议声明",dialogClass:"dialog-site-agreement J_siteAgreementDialog",contentData:"contentData",content:'<div id="J_siteAgreementContent"><div class="loading"><div class="loader"></div></div></div>',okText:"同意",cancelText:"不同意",opened:function(){e.updateContent()},closed:function(){n["a"].removeEvt(e.Dom.$contentWrapper,"click",e.domEvtFuns.switchAgreeTab),e.Dom.$contentWrapper=null,e.objs.$dialog=null},ok:function(){e.agreeCallback()}})}},a=function(){if(!t)throw"args el is needed."},i=function(){},s=function(){},u=function(){n["a"].addEvt(t,"click",e.domEvtFuns.clickCheck),c["a"].$on("checkAgreementStatus",e.checkAgreementStatus),c["a"].$on("checkoutAgreement",(function(t){e.initCallback("checkout",t)}))},l=function(){if(e){for(var t in e.objs){var a=e.objs[t];a&&a.destroy&&a.destroy()}e=null}},d=function(){a(),i(),s(),u()};return d(),{destroy:l,initCallback:e.initCallback}},l=a("e3d1");e["a"]=function(t){var e={Dom:{},objs:{},domEvtFuns:{userMenuShow:function(){e.timeoutUserMenu&&clearTimeout(e.timeoutUserMenu),this.classList.add("user-active"),this.querySelector("#J_userMenuWrapper").style.height=this.querySelector("#J_userMenuWrapper").scrollHeight+"px"},userMenuHide:function(){var t=this;e.timeoutUserMenu=setTimeout((function(){t.classList.remove("user-active"),t.querySelector("#J_userMenuWrapper").style.height=0}),200)},logout:function(){sessionStorage.removeItem(e.proxyFlag)}},miid:Number(Object(r["a"])("userId"))||Object(r["a"])("cUserId"),miidLink:Object(r["a"])("xm_link_history"),userName:"",timeoutUserMenu:null,proxyFlag:"proxy_"+window.location.host,getUserName:function(){o["a"].getUserName({}).then((function(t){if(t&&200==t.code&&t.data&&t.data.user_id){var a=t.data.true_name?t.data.true_name:t.data.user_name;a=a||t.data.user_id;var n={path:"/",domain:".mi.com"};Object(r["a"])("XM_"+t.data.user_id+"_UN",a,n),e.loginCheckCb(t.data.user_id,a)}})).catch((function(t){}))},uuidCookie:function(){var t=("xmguest-"+l.v1()).toUpperCase(),e=Object(r["a"])("xmuuid");if(!e){var a={path:"/",domain:".mi.com",expires:365};Object(r["a"])("xmuuid",t,a)}},escape:function(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},updateDom:function(){var a=e.userName||e.miid;"1"!==sessionStorage.getItem(e.proxyFlag)&&t&&(t.setProxy({name:"MiPROXY_ORDER",url:i["a"].host.orderProxy}),t.setProxy({name:"MiPROXY_HD",url:i["a"].host.hdiProxy}),sessionStorage.setItem(e.proxyFlag,"1"));var o='<div id="J_userMenuWrapper" class="user-menu-wrapper">\n                <ul class="user-menu">\n                    <li><a rel="nofollow"  href="'.concat(i["a"].host.wwwSite,'/user/portal" target="_blank">个人中心</a></li>\n                    <li><a rel="nofollow" href="').concat(i["a"].host.wwwSite,'/user/comment" target="_blank">评价晒单</a></li>\n                    <li><a rel="nofollow" href="').concat(i["a"].host.wwwSite,'/user/favorite" target="_blank">我的喜欢</a></li>\n                    <li><a rel="nofollow" href="').concat(i["a"].host.accountSite,'" target="_blank">小米账户</a></li>\n                    <li><a rel="nofollow" id="J_userLogout" href="').concat(i["a"].host.logoutUrl,'">退出登录</a></li>\n                </ul>\n            </div>'),r='<span class="user">\n            <a rel="nofollow" class="user-name" href="'.concat(i["a"].host.wwwSite,'/user/portal" target="_blank">\n                <span class="name">').concat(e.escape(a),'</span>\n                <i class="iconfont-arrow-down-mini"></i>\n            </a>').concat(o,'\n            </span>\n            <span class="sep">|</span>\n            <a rel="nofollow" class="link link-order" href="').concat(i["a"].host.wwwSite,'/user/orderList" target="_blank">我的订单</a>');e.Dom.$userInfo.innerHTML=r,e.Dom.$userTrigger=e.Dom.$userInfo.querySelector(".user"),e.Dom.$userLogout=document.querySelector("#J_userLogout"),e.objs.message.init(!0),n["a"].addEvt(e.Dom.$userTrigger,"mouseenter",e.domEvtFuns.userMenuShow),n["a"].addEvt(e.Dom.$userTrigger,"mouseleave",e.domEvtFuns.userMenuHide),n["a"].addEvt(e.Dom.$userLogout,"click",e.domEvtFuns.logout)},loginCheckCb:function(t,a){if(t){e.miid=t,e.userName=a||"";var n=Object(r["a"])("XM_agreement");setTimeout((function(){if(n&&"1"===n)e.updateDom(),e.objs.siteAgreement.initCallback("agreement");else if("/"===location.pathname||"/index.html"===location.pathname){var t=/^www.mi.com|pc.test.mi.com|pc.pre.mi.com/;t.test(window.location.host)?e.objs.siteAgreement.initCallback("home").then((function(t){e.updateDom()})).catch((function(t){Object(r["a"])("cUserId",null),Object(r["a"])("userId",null),Object(r["a"])("serviceToken",null)})):e.updateDom()}else e.updateDom()}),700)}},loginInit:function(){if(e.uuidCookie(),!e.miid){Object(r["a"])("XM_agreement","0",{expires:7,path:"/",domain:"mi.com"});var t=e.Dom.$userInfo.querySelector(".link[data-login='true']"),a=e.Dom.$userInfo.querySelector(".link[data-register='true']");return t.setAttribute("data-href",i["a"].host.orderLogin),t.setAttribute("href","javascript:void(0);"),a.setAttribute("data-href",a.getAttribute("href")),a.setAttribute("href","javascript:void(0);"),void e.objs.message.init(!1)}e.getUserName()}},a=function(){},c=function(){e.Dom.$userInfo=document.querySelector("#J_siteUserInfo")},d=function(){e.objs.siteAgreement=u(e.Dom.$userInfo),e.objs.message=s(),e.loginInit()},m=function(){},f=function(){if(e){for(var t in e.objs){var a=e.objs[t];a&&a.destroy&&a.destroy()}e=null}},p=function(){a(),c(),d(),m()};return p(),{destroy:f}}},"8c21":function(t,e,a){},"8f03":function(t,e,a){"use strict";var n=function(t,e){var a=t.getAttribute("onclick");a&&(a=a.replace(/(_msq.push\(\[.*,.*,.*,.*,').*('\]\);)/,(function(e,a,n){var i=t.dataset.log_code;return a+i+n})),t.setAttribute("onclick",a),e&&t.click())};e["a"]=n},"91bf":function(t,e,a){"use strict";var n=a("bc47");function i(t){t.target=t.target||t.srcElement}var o=i;function r(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var s=r,c=document.addEventListener,u=c?function(t,e,a){t.removeEventListener(e,a,!1)}:function(t,e,a){t.detachEvent("on"+e,a)},l=u;e["a"]={addEvt:n["a"],evtFix:o,preventDefault:s,removeEvt:l}},9302:function(t,e,a){"use strict";function n(t,e){return new RegExp("(^|\\s)"+e+"($|\\s)").test(t.className)}e["a"]=n},"96a6":function(t,e,a){},"986e":function(t,e,a){"use strict";var n=a("a026");e["a"]=new n["a"]},"9b57":function(t,e,a){},"9dd2":function(t,e,a){"use strict";var n=a("7f19"),i=a("a417"),o={getMallConfig:function(t){return Object(n["a"])(i["a"].host.serviceApi+"/mall/config",t,{param:"jsonpcallback",name:"mallConfig"})}};e["a"]=o},"9f77":function(t,e,a){"use strict";var n=a("9302");function i(t,e){1===t.nodeType&&Object(n["a"])(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e+"($|\\s)")," "))}e["a"]=i},a417:function(t,e,a){"use strict";var n={orderSite:"//order.mi.com",orderApiSite:"//api.order.mi.com",cnOrderApi:"//cn.orderapi.mi.com",wwwSite:"//www.mi.com",oldWwwSite:"//www.mi.com",cartSite:"//cart.mi.com",itemSite:"//item.mi.com",assetsSite:"//s01.mifile.cn",listSite:"//list.mi.com",searchSite:"//search.mi.com",mySite:"//my.mi.com",damiaoSite:"//tp.hd.mi.com/",logoutUrl:"//order.mi.com/site/logout",staticSite:"//static.mi.com",hdiSite:"//i.huodong.mi.com",hdiProxy:"//i.huodong.mi.com/user/proxy/stop/1",hdaSite:"//a.huodong.mi.com",hdiLogin:"//i.huodong.mi.com/site/login?redirectUrl="+encodeURI(location.href),orderProxy:"//order.mi.com/user/proxy/stop/1",orderLogin:"//order.mi.com/site/login?redirectUrl="+encodeURI(location.href),quickLoginUrl:"https://account.xiaomi.com/pass/static/login.html",accountSite:"//account.xiaomi.com",searchApiSite:"//api.search.mi.com",hdInfo:"//tp.hd.mi.com/hdinfo/cn",hdGet:"//tp.hd.mi.com/hdget/cn",orderApi:"https://api2.order.mi.com",serviceApi:"https://api2.service.order.mi.com",serviceUrl:"//service.order.mi.com",recommendSite:"//rec.www.mi.com",productFileSite:"https://cdn.cnbj1.fds.api.mi-img.com/product-images",mSite:"https://m.mi.com"},i={orderSite:"//order.mi.com",orderApiSite:"//api.order.mi.com",cnOrderApi:"//cn.orderapi.mi.com",wwwSite:"//pc.pre.mi.com",oldWwwSite:"//www.mi.com",cartSite:"//cart.mi.com",itemSite:"//item.mi.com",assetsSite:"//s01.mifile.cn",listSite:"//list.mi.com",searchSite:"//search.mi.com",mySite:"//my.mi.com",damiaoSite:"//tp.hd.mi.com/",logoutUrl:"//order.mi.com/site/logout",staticSite:"//static.mi.com",hdiSite:"//i.huodong.mi.com",hdiProxy:"//i.huodong.mi.com/user/proxy/stop/1",hdaSite:"//a.huodong.mi.com",hdiLogin:"//i.huodong.mi.com/site/login?redirectUrl="+encodeURI(location.href),orderProxy:"//order.mi.com/user/proxy/stop/1",orderLogin:"//order.mi.com/site/login?redirectUrl="+encodeURI(location.href),quickLoginUrl:"https://account.xiaomi.com/pass/static/login.html",accountSite:"//account.xiaomi.com",searchApiSite:"//api.search.mi.com",hdInfo:"//tp.hd.mi.com/hdinfo/cn",hdGet:"//tp.hd.mi.com/hdget/cn",orderApi:"http://pc.order.pre.order.mi.com",serviceApi:"http://pc.service.pre.order.mi.com",serviceUrl:"http://service.order.mi.com",recommendSite:"//rec.www.mi.com",productFileSite:"https://cdn.cnbj1.fds.api.mi-img.com/product-images",mSite:"http://m.mi.com"},o={orderSite:"//order.test.mi.com",orderApiSite:"//api-order.test.mi.com",cnOrderApi:"//cn-orderapi.test.mi.com",wwwSite:"//pc.test.mi.com",oldWwwSite:"//www.test.mi.com",cartSite:"//cart.test.mi.com",itemSite:"//item.test.mi.com",assetsSite:"//assets.test.mi.com",listSite:"//list.test.mi.com",searchSite:"//search.test.mi.com",mySite:"//my.test.mi.com",damiaoSite:"//tp-hd.test.mi.com",logoutUrl:"//order.test.mi.com/site/logout",staticSite:"//static.test.mi.com",hdiSite:"//i-huodong.test.mi.com",hdiProxy:"//i-huodong.test.mi.com/user/proxy/stop/1",hdaSite:"//a-huodong.test.mi.com",hdiLogin:"//i-huodong.test.mi.com/site/login?redirectUrl="+encodeURI(location.href),orderProxy:"//order.test.mi.com/user/proxy/stop/1",orderLogin:"//order.test.mi.com/site/login?redirectUrl="+encodeURI(location.href),quickLoginUrl:"https://account.xiaomi.com/pass/static/login.html",accountSite:"//account.preview.n.xiaomi.net",searchApiSite:"//api-search.test.mi.com",hdInfo:"//tp-hd.test.mi.com/hdinfo/cn",hdGet:"//tp-hd.test.mi.com/hdget/cn",orderApi:"http://pc.order.test.mi.com",serviceApi:"http://pc.service.test.mi.com",serviceUrl:"http://service.order.test.mi.com",recommendSite:"//rec.www.mi.com",productFileSite:"https://cnbj1-fds.api.xiaomi.net/product-images-pre",mSite:"http://m.test.mi.com"},r=/test\.mi\.com/.test(window.location.host),s=/pre\.mi\.com/.test(window.location.host),c=/www\.mi\.com/.test(window.location.host),u=/^mock\./.test(window.location.host),l={};if(u)for(var d in o)l[d]="http://mock.be.mi.com/mock/502";var m={host:u?l:r?o:s?i:n,time:"//time.hd.mi.com/gettimestamp",productFileSite:r?o.productFileSite:s?i.productFileSite:n.productFileSite,isTest:r,isPre:s,isPro:c};e["a"]=m},a5e6:function(t,e,a){},b38c:function(t,e,a){"use strict";var n=function(t){var e=t&&t.url?t.url.search:location.search,a={};if(-1!=e.indexOf("?"))for(var n=e.substr(1),i=n.split("&"),o=0;o<i.length;o++){var r=i[o],s=r.indexOf("="),c=r.slice(0,s),u=r.slice(s+1);a[c]=decodeURI(u)}return a&&t&&t.name?a[t.name]:a},i=function(t){var e=location.hash,a=new Object;if(-1!=e.indexOf("#"))for(var n=e.substr(1),i=n.split("&"),o=0;o<i.length;o++)a[i[o].split("=")[0]]=decodeURI(i[o].split("=")[1]);return t?a[t]:a};e["a"]={getParam:n,getHash:i}},b44c:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mi-error"},[a("img",{attrs:{src:"//s01.mifile.cn/i/item/saleoff-mitu.png"}}),a("p",[t._v(t._s(t.msg))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBtn,expression:"isShowBtn"}],staticClass:"btn-wrap"},[a("a",{attrs:{href:"/"}},[t._v("去首页")]),a("span",[t._v("|")]),a("a",{attrs:{href:"javascript:void(0);"},on:{click:t.goBack}},[t._v("返回上一页")])])])},i=[],o={name:"mi-error",props:{msg:{type:String,default:""},isShowBtn:{type:Boolean,default:!0}},data:function(){return{}},methods:{goBack:function(){history.go(-1)}},mounted:function(){},beforeDestroy:function(){}},r=o,s=(a("c133"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"5a7209ba",null);e["a"]=c.exports},bc47:function(t,e,a){"use strict";var n=document.addEventListener,i=function(t,e,a,n){t&&t.addEventListener(e,a,void 0!==n&&n)},o=function(t,e,a){t&&t.attachEvent("on"+e,a)};e["a"]=n?i:o},c133:function(t,e,a){"use strict";var n=a("62fd"),i=a.n(n);i.a},c474:function(t,e,a){},cf65:function(t,e,a){},d4c3:function(t,e,a){"use strict";var n=a("8c21"),i=a.n(n);i.a},d654:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mi-pagenav"},[t.pageData.pre?a("a",{staticClass:"numbers first",attrs:{"data-log_code":t.logCode.logcode_previous,href:"javascript:void(0);"},on:{click:function(e){return t.turnPage(t.pageData.pre)}}},[a("span",{staticClass:"iconfont"},[t._v("")])]):a("span",{staticClass:"numbers first"},[a("span",{staticClass:"iconfont"},[t._v("")])]),t.pageData.isF&&1==t.pageData.index?a("span",{staticClass:"numbers current"},[t._v("1")]):t.pageData.isF&&1!==t.pageData.index?a("a",{staticClass:"numbers",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.turnPage(1)}}},[t._v("1")]):t._e(),t.pageData.startXu?a("span",{staticClass:"numbers"},[t._v("...")]):t._e(),t._l(t.pageData.nums,(function(e){return t.pageData.nums&&t.pageData.nums.length?[e===t.pageData.index?a("span",{staticClass:"numbers current"},[t._v(t._s(e))]):a("a",{staticClass:"numbers",attrs:{"data-log_code":t.logCode.logcode_num,href:"javascript:void(0);"},on:{click:function(a){return t.turnPage(e)}}},[t._v(t._s(e))])]:t._e()})),t.pageData.endXu?a("span",{staticClass:"numbers"},[t._v("...")]):t._e(),t.pageData.isF&&t.pageData.index==t.pageData.pageAmount?a("span",{staticClass:"numbers current"},[t._v(t._s(t.pageData.pageAmount))]):t.pageData.isF&&t.pageData.index!==t.pageData.pageAmount?a("a",{staticClass:"numbers",attrs:{"data-log_code":t.logCode.logcode_num,href:"javascript:void(0);"},on:{click:function(e){return t.turnPage(t.pageData.pageAmount)}}},[t._v(t._s(t.pageData.pageAmount))]):t._e(),t.pageData.next?a("a",{staticClass:"numbers last",attrs:{"data-log_code":t.logCode.logcode_next,href:"javascript:void(0);"},on:{click:function(e){return t.turnPage(t.pageData.next)}}},[a("span",{staticClass:"iconfont"},[t._v("")])]):a("span",{staticClass:"numbers last"},[a("span",{staticClass:"iconfont"},[t._v("")])])],2)},i=[],o={name:"mi-pagenav",props:{total:{type:Number,default:0},current:{type:Number,default:1},linkPrefix:{type:String,default:""},logCode:{type:Object,default:function(){return{}}}},data:function(){return{pageData:{}}},watch:{current:function(t){this.current=t,this.init()}},methods:{init:function(){var t={};if(t.index=this.current,t.start=1,t.end=this.total,t.pageAmount=this.total,t.endXu=!1,t.pre="",t.next=t.index+1,t.startXu=!1,t.isF=!1,1===this.current?(t.pre="",1===this.total?t.next="":t.next=this.current+1):this.current===this.total?(t.next="",1===this.total?t.pre="":t.pre=this.current-1):(t.pre=this.current-1,t.next=this.current+1),this.total<8){t.start=1,t.end=this.total,t.nums=[];for(var e=t.start;e<=t.end;e+=1)t.nums.push(e)}else{t.isF=!0,this.current<5?(t.start=2,t.end=5,t.startXu=!1,t.endXu=!0):this.current>this.total-5?(t.start=this.total-5,t.end=this.total-1,t.startXu=!0,t.endXu=!1):(t.start=this.current-2,t.end=this.current+2,t.end>this.total-1&&(t.end=this.total-1),t.startXu=!0,t.endXu=!0),t.nums=[];for(var a=t.start;a<=t.end;a+=1)t.nums.push(a)}this.pageData=t,this.$nextTick((function(){window.statInit&&window.statInit()}))},turnPage:function(t){t&&(this.linkPrefix?window.location.href=this.linkPrefix+t:this.$emit("callback",t))}},mounted:function(){!this.total||this.total<1||this.init()}},r=o,s=(a("79a2"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"0acc30d3",null);e["a"]=c.exports},e3d1:function(t,e,a){(function(n){var i;(function(){var o,r=this;if(!o&&r.crypto&&crypto.getRandomValues){var s=new Uint8Array(16);o=function(){return crypto.getRandomValues(s),s}}if(!o){var c=new Array(16);o=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),c[e]=t>>>((3&e)<<3)&255;return c}}for(var u="function"===typeof n?n:Array,l=[],d={},m=0;m<256;m++)l[m]=(m+256).toString(16).substr(1),d[l[m]]=m;function f(t,e,a){var n=e&&a||0,i=0;e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,(function(t){i<16&&(e[n+i++]=d[t])}));while(i<16)e[n+i++]=0;return e}function p(t,e){var a=e||0,n=l;return n[t[a++]]+n[t[a++]]+n[t[a++]]+n[t[a++]]+"-"+n[t[a++]]+n[t[a++]]+"-"+n[t[a++]]+n[t[a++]]+"-"+n[t[a++]]+n[t[a++]]+"-"+n[t[a++]]+n[t[a++]]+n[t[a++]]+n[t[a++]]+n[t[a++]]+n[t[a++]]}var h=o(),g=[1|h[0],h[1],h[2],h[3],h[4],h[5]],v=16383&(h[6]<<8|h[7]),_=0,b=0;function w(t,e,a){var n=e&&a||0,i=e||[];t=t||{};var o=null!=t.clockseq?t.clockseq:v,r=null!=t.msecs?t.msecs:(new Date).getTime(),s=null!=t.nsecs?t.nsecs:b+1,c=r-_+(s-b)/1e4;if(c<0&&null==t.clockseq&&(o=o+1&16383),(c<0||r>_)&&null==t.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_=r,b=s,v=o,r+=122192928e5;var u=(1e4*(268435455&r)+s)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=255&u;var l=r/4294967296*1e4&268435455;i[n++]=l>>>8&255,i[n++]=255&l,i[n++]=l>>>24&15|16,i[n++]=l>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var d=t.node||g,m=0;m<6;m++)i[n+m]=d[m];return e||p(i)}function y(t,e,a){var n=e&&a||0;"string"===typeof t&&(e="binary"===t?new u(16):null,t=null),t=t||{};var i=t.random||(t.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var r=0;r<16;r++)e[n+r]=i[r];return e||p(i)}var C=y;if(C.v1=w,C.v4=y,C.parse=f,C.unparse=p,C.BufferClass=u,r.define&&a("3c35"))i=function(){return C}.call(e,a,e,t),void 0===i||(t.exports=i);else if(t.exports)t.exports=C;else{var S=r.uuid;C.noConflict=function(){return r.uuid=S,C},r.uuid=C}}).call(window)}).call(this,a("b639").Buffer)},efd9:function(t,e,a){"use strict";var n=a("2ec8"),i=function(t){if("string"!==typeof t)throw"encodeHTML need a string as parameter";return t.replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\u00A0/g,"&nbsp;").replace(/(\u0020|\u000B|\u2028|\u2029|\f)/g,"&#32;")},o=a("986e"),r=a("a417"),s=a("9dd2");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(a,!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function d(t){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var m=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp");e["a"]={showContact:function(t){s["a"].getMallConfig({key:"service_chat_url"}).then((function(e){if(e&&200==e.code&&e.data){var a={key:"pc",name:"小米客服"};a=Object.assign({},a,t),a.path=e.data[a.key],t&&(t.pids&&(a.path+="&pids="+t.pids),t.gids&&(a.path+="&gids="+t.gids));var n=510,i=790,o=(window.screen.availHeight-i)/2,r=(window.screen.availWidth-n)/2;window.open(a.path,a.name,"top=".concat(o,",left=").concat(r,",height=").concat(i,",width=").concat(n,",status=no,toolbar=no,menubar=no,location=no,resizable=no,scrollbars=0,titlebar=no,ullscreen=no"))}}))},getActionUrl:function(t){if(!t||!t.type)return"";var e="",a=t.path,n=t.default_line,i=t.goodsId;switch(t.type){case"product":case"plugin":e="".concat(r["a"].host.wwwSite,"/buy?product_id=").concat(a),n&&(e="".concat(e,"&default_line=").concat(n)),i&&(e="".concat(e,"&default_goodsId=").concat(i));break;case"url":case"activity":e=0==a.indexOf("#")?"#J_nav_".concat(a.substring(1)):a;break;case"pc_activity":e="".concat(r["a"].host.wwwSite,"/a/h/").concat(a,".html");break;case"pc_channel":e="".concat(r["a"].host.wwwSite,"/p/").concat(a,".html");break;case"homepage":e="".concat(r["a"].host.wwwSite,"/index.html");break;case"seckill":e="".concat(r["a"].host.wwwSite,"/buy/seckill");break;case"keyword":e="".concat(r["a"].host.wwwSite,"/search?keyword=").concat(encodeURIComponent(a));break}return e},formatImageHttp:function(t){return t?t.replace(/^http(s?):/i,""):t},alertTip:function(t){if(t){var e={desc:"",msg:"",isHideFoot:!1,okText:"确定",customClass:"",width:"480px",onShow:function(){},onHide:function(){}};"string"===typeof t?e.msg=t:"object"===d(t)&&(e=u({},e,{},t));var a=o["a"].$dialog({type:t.isHideFoot?"plain":"alert",isHideHeader:!0,width:e.width,dialogClass:"mi-dialog-alert ".concat(e.customClass),content:'<div class="alert-desc">'.concat(i(e.desc),'</div><div class="alert-msg">').concat(i(e.msg),"</div>"),okText:i(e.okText),ok:function(){},opened:function(){e.onShow&&e.onShow()},closed:function(){e.onHide&&e.onHide()}});return a}},confirmTip:function(t){var e={title:"",desc:"",msg:"",width:"480px",customClass:"",okText:"确定",cancelText:"取消",hideModal:!0,onOk:function(){},onCancel:function(){}};e=u({},e,{},t);var a=o["a"].$dialog({type:"confirm",isHideHeader:!0,width:e.width,dialogClass:"mi-dialog-alert ".concat(e.customClass),content:'<div class="confirm-msg"><h3>'.concat(i(e.title),"</h3><div >").concat(i(e.desc),"</div><div >").concat(i(e.msg),"</div></div>"),okText:i(e.okText),cancelText:i(e.cancelText),ok:function(){e.hideModal&&a.hide(),e.onOk&&e.onOk()},cancel:function(){e.onCancel&&e.onCancel()}});return a},checkLoginStatus:function(){return!(!Object(n["a"])("cUserId")&&!Object(n["a"])("userId"))},setProxy:function(t){var e,a=document.createElement("iframe");a.name="Mi".concat(t.name||"_iframe"),a.style.cssText="width:0px;height:0px;border:0px;overflow:hidden;position:absolute;top:-1000px",a.onload=a.onerror=function(){a.onerror=a.onload=null,window.clearTimeout(e),t.callback&&t.callback(),a.parentNode.removeChild(a)},e=setTimeout((function(){t.callback&&t.callback()}),5e3),a.src=t.url,document.body.appendChild(a)},colorRgb:function(t,e){var a=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,n=t.toLowerCase();if(n&&a.test(n)){if(4===n.length){for(var i="#",o=1;o<4;o+=1)i+=n.slice(o,o+1).concat(n.slice(o,o+1));n=i}var r=[];for(o=1;o<7;o+=2)r.push(parseInt("0x".concat(n.slice(o,o+2))));return"rgba(".concat(r.join(","),", ").concat(e,")")}return n},formatImageSize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;if(t&&e&&a){var n=window.devicePixelRatio||1,i=/mi\-img\.com/.test(t),o=/mifile\.cn/.test(t),r=/cdn\.cnbj1\.fds\.api\.mi\-img\.com/.test(t),s=t.split("?")[0],c="",u=Math.round(e*n),l=Math.round(a*n);if(i)c="".concat(s,"?thumb=1&w=").concat(u,"&h=").concat(l);else if(o){var d=s.substr(s.lastIndexOf(".")+1),f=s.substr(0,s.lastIndexOf("."));c="".concat(f,"!").concat(u,"x").concat(l,".").concat(d)}else c=t;return m&&r&&(c+="&f=webp&q=90"),c}}}},f644:function(t,e,a){"use strict";a.r(e);a("341d");var n=a("91bf"),i=a("8854"),o=(a("6056"),a("a417")),r=a("2166"),s=a("2ec8"),c=a("986e"),u=function(t,e){var a={Dom:{},objs:{},timeoutHideCart:null,timeoutShowCart:null,domEvtFuns:{showMiniCartList:function(){a.timeoutHideCart&&clearTimeout(a.timeoutHideCart);var t=a.Dom.$miniCartTrigger.classList.contains("topbar-cart-active");t||(a.Dom.$miniCartTrigger.classList.add("topbar-cart-active"),a.Dom.$miniCartMenu.style.height=a.Dom.$miniCartMenu.scrollHeight+"px",a.timeoutShowCart=setTimeout((function(){a.getCartGoods()}),300))},hideMiniCartList:function(){a.timeoutShowCart&&clearTimeout(a.timeoutShowCart),a.Dom.$miniCartMenu.style.height=a.Dom.$miniCartMenu.scrollHeight+"px",a.timeoutHideCart=setTimeout((function(){a.Dom.$miniCartMenu.style.height=0,setTimeout((function(){a.Dom.$miniCartTrigger.classList.remove("topbar-cart-active"),a.Dom.$miniCartList.classList.add("hide"),a.Dom.$miniCartListTotal.classList.add("hide"),a.Dom.$miniCartMenu.querySelector(".msg-error").textContent="",a.Dom.$miniCartMenu.querySelector(".msg-error").classList.add("hide"),a.Dom.$miniCartMenu.querySelector(".msg-empty").classList.add("hide"),a.Dom.$miniCartMenu.querySelector(".loading").classList.remove("hide")}),300)}),200)},checkDeleteGoods:function(e){var n=e.target.parentNode;if(n.classList.contains("J_delItem")){var i=n.getAttribute("data-gid"),o=n.getAttribute("data-isbigtap");i&&("true"!==o?a.deleteGoods(i):t.confirmTip({title:"您正在删除开放购买活动商品!",msg:"删除后您失去本次开放购买资格，无法下单购买此商品。<br>确认删除此商品吗？",onOk:function(){a.deleteGoods(i)}}))}}},updateMiniCartNum:function(){Object(s["a"])("xm_user_cart_num"),Object(s["a"])("userId");var t=Object(s["a"])("xm_user_www_num");Number(t)>0?(a.Dom.$cartNum.textContent="（"+t+"）",a.Dom.$miniCartTrigger.classList.add("topbar-cart-filled"),a.Dom.$miniCartTrigger.querySelector(".iconfont-cart-full").classList.remove("hide"),a.Dom.$miniCartTrigger.querySelector(".iconfont-cart").classList.add("hide")):(a.Dom.$cartNum.textContent="（0）",a.Dom.$miniCartTrigger.classList.remove("topbar-cart-filled"),a.Dom.$miniCartTrigger.querySelector(".iconfont-cart-full").classList.add("hide"),a.Dom.$miniCartTrigger.querySelector(".iconfont-cart").classList.remove("hide")),c["a"].$emit("updateToolBarCartNum")},getCartGoods:function(){r["a"].getMiniCartList({},{param:"jsonpcallback"}).then((function(t){if(a.Dom.$miniCartMenu.querySelector(".loading").classList.add("hide"),a.Dom.$miniCartListTotal.classList.add("hide"),a.Dom.$miniCartList.classList.add("hide"),200===t.code){if(t.data.totalItem>0){var e="",n="",i="",r="",c="",u=81;t.data.totalItem>5?(a.Dom.$miniCartList.style="overflow-x:hidden; overflow-y:scroll;",a.Dom.$miniCartList.style.height=5*u+u/2+"px"):a.Dom.$miniCartList.style.height="auto",t.data.items.forEach((function(t,a){n=t.imageUrl?'<img alt="" src="'+t.imageUrl.replace(/^http(s?):/i,"")+'?width=60&height=60">':'<img alt="" src="//i1.mifile.cn/f/i/2014/cn/placeholder-80.png">',t.isCos?(i=" is-cos",r="暂时缺货"):(i="",r=t.salePrice+"元 × "+t.num),0===a&&(i+=" first"),c=0!==t.noLink?"javascript:void(0);":o["a"].host.wwwSite+"/buy?product_id="+t.productId,t.typeName&&(t.productName='<span class="tag">【'+t.typeName+"】</span>"+t.productName),e+='<li><div class="cart-item clearfix'+i+'"><a class="thumb" href="'+c+'">'+n+'</a><a class="name" href="'+c+'">'+t.productName+'</a><span class="price">'+r+'</span><a class="btn-del J_delItem" href="javascript: void(0);" data-gid="'+t.itemId+'" data-isBigtap="'+t.isBigtap+'"><em class="iconfont-close"></em></a></div></li>'})),a.Dom.$miniCartListTotal&&(a.Dom.$miniCartListTotal.innerHTML='<span class="total">共 <em>'+t.data.total+'</em> 件商品<span class="price"><em>'+t.data.totalPrice+'</em>元</span></span><a href="'+o["a"].host.wwwSite+'/buy/cart" class="btn btn-primary btn-cart">去购物车结算</a>',a.Dom.$miniCartListTotal.classList.remove("hide")),a.Dom.$miniCartMenu.style.height="auto",a.Dom.$miniCartList.innerHTML=e,a.Dom.$miniCartList.classList.remove("hide")}else a.Dom.$miniCartMenu.querySelector(".msg-empty").classList.remove("hide");Object(s["a"])("xm_user_www_num",t.data.total,{domain:"mi.com"}),a.updateMiniCartNum()}else a.Dom.$miniCartMenu.querySelector(".msg-error").textContent=t.msg,a.Dom.$miniCartMenu.querySelector(".msg-error").classList.remove("hide")})),a.updateMiniCartNum()},deleteGoods:function(e){r["a"].delete({gid:e},{param:"jsonpcallback"}).then((function(e){200===e.code?a.getCartGoods():t.alertTip(e.msg)}))}},i=function(){},u=function(){a.Dom.$cartNum=document.querySelector(".J_cartNum"),a.Dom.$miniCartTrigger=document.querySelector("#J_miniCartTrigger"),a.Dom.$miniCartMenu=document.querySelector("#J_miniCartMenu"),a.Dom.$miniCartList=a.Dom.$miniCartMenu.querySelector("#J_miniCartList"),a.Dom.$miniCartListTotal=a.Dom.$miniCartMenu.querySelector("#J_miniCartListTotal")},l=function(){},d=function(){n["a"].addEvt(a.Dom.$miniCartTrigger,"mouseenter",a.domEvtFuns.showMiniCartList),n["a"].addEvt(a.Dom.$miniCartTrigger,"mouseleave",a.domEvtFuns.hideMiniCartList),n["a"].addEvt(a.Dom.$miniCartList,"click",a.domEvtFuns.checkDeleteGoods),a.updateMiniCartNum()},m=function(){if(a){for(var t in a.objs){var e=a.objs[t];e&&e.destroy&&e.destroy()}a=null}},f=function(){i(),u(),l(),d()};return f(),{destroy:m}};a("4de9");function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function d(t){var e=document.documentElement,a={top:0,left:0};return l(t.getBoundingClientRect)!==void 0+""&&(a=t.getBoundingClientRect()),{top:a.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:a.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}var m=d,f=a("bc47");function p(t){var e,a,n,i=null,o=[],r=null,s=null,c=3,u=300,l=function(){};if(a={menuElm:null,rowSelector:"li.category-item",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:l,exit:l,activate:l,deactivate:l,exitMenu:l},n=Object.assign({},a,t),e=n.menuElm,!e)throw"no menu element";function d(t){o.push({x:t.pageX,y:t.pageY}),o.length>c&&o.shift()}function p(){s&&clearTimeout(s),n.exitMenu(this)&&(i&&n.deactivate(i),i=null)}function h(){s&&clearTimeout(s),n.enter(this),_(this)}function g(){n.exit(this)}function v(t){t!==i&&(i&&n.deactivate(i),n.activate(t),i=t)}function _(t){var e=b();e?s=setTimeout((function(){_(t)}),e):v(t)}function b(){if(!i||!i.matches(n.submenuSelector))return 0;var t=m(e),a={width:e.offsetWidth,height:e.offsetHeight},s={x:t.left,y:t.top-n.tolerance},c={x:t.left+a.width,y:s.y},l={x:t.left,y:t.top+a.height+n.tolerance},d={x:t.left+a.width,y:l.y},f=o[o.length-1],p=o[0];if(!f)return 0;if(p||(p=f),p.x<t.left||p.x>d.x||p.y<t.top||p.y>d.y)return 0;if(r&&f.x===r.x&&f.y===r.y)return 0;function h(t,e){return(e.y-t.y)/(e.x-t.x)}var g=c,v=d;"left"===n.submenuDirection?(g=l,v=s):"below"===n.submenuDirection?(g=d,v=l):"above"===n.submenuDirection&&(g=s,v=c);var _=h(f,g),b=h(f,v),w=h(p,g),y=h(p,v);return _<w&&b>y?(r=f,u):(r=null,0)}var w=e.querySelectorAll(n.rowSelector);Object(f["a"])(e,"mouseleave",p),w&&w.length&&w.forEach((function(t){Object(f["a"])(t,"mouseenter",h),Object(f["a"])(t,"mouseleave",g),Object(f["a"])(t,"click",(function(t){v(t.target.parentNode)}))})),Object(f["a"])(document,"mousemove",d)}var h=p,g=function(t,e){var a={Dom:{},objs:{},timeoutNav:null,timeoutNavShow:null,timeoutMiniCart:null,domEvtFuns:{menuEvent:{mouseenter:function(){a.Dom.$navCategory.classList.add("nav-category-active"),a.Dom.$searchInput.blur(),a.Dom.$homeMenu.parentNode.style.display="block"},mouseleave:function(){a.Dom.$navCategory.classList.remove("nav-category-active"),a.Dom.$homeMenu.parentNode.style.display="none"}}}},i=function(){},o=function(){a.Dom.$homeMenu=document.querySelector("#J_categoryList"),a.Dom.$homeMenu&&(a.Dom.$navCategory=document.querySelector("#J_navCategory"),a.Dom.$homeMenuItems=a.Dom.$homeMenu.querySelectorAll("li.category-item"),a.Dom.$searchForm=document.querySelector("#J_searchForm"),a.Dom.$searchInput=a.Dom.$searchForm.querySelector("#search"))},r=function(){a.Dom.$homeMenuItems&&a.Dom.$homeMenuItems.forEach((function(t){var e,a=t.querySelector(".children"),n=a&&t.querySelector(".children-list")||null,i=n&&n.querySelectorAll("li")||[];a&&(a.classList.add("children-col-"+Math.ceil(i.length/6)),i.length>6&&(e=document.createDocumentFragment(),i.forEach((function(t,a){if(a%6===0){var n=document.createElement("ul");n.className="children-list children-list-col children-list-col-"+Math.ceil((a+1)/6),e.appendChild(n)}e.querySelector(".children-list-col-"+Math.ceil((a+1)/6)).appendChild(t)})),a.innerHTML="",a.appendChild(e)))})),h({menuElm:a.Dom.$homeMenu,activate:function(e){if(e){e.classList.add("category-item-active");var a=e.querySelectorAll("img");a.forEach((function(e){if(e.getAttribute("data-src")){var a=e.getAttribute("data-src").replace(/^http(s?):/i,""),n=t.formatImageSize(a,40,40);e.setAttribute("src",n),e.removeAttribute("data-src")}}))}},deactivate:function(t){t.classList.remove("category-item-active")},exitMenu:function(){return!0}})},s=function(){"undefined"!==typeof IsCategoryToggled&&"toggled"===IsCategoryToggled?(a.Dom.$homeMenu.parentNode.style.display="block",a.Dom.$homeMenu.classList.add("site-category-list-custom")):(n["a"].addEvt(a.Dom.$navCategory,"mouseenter",a.domEvtFuns.menuEvent.mouseenter),n["a"].addEvt(a.Dom.$navCategory,"mouseleave",a.domEvtFuns.menuEvent.mouseleave))},c=function(){if(a){for(var t in a.objs){var e=a.objs[t];e&&e.destroy&&e.destroy()}a=null}},u=function(){i(),o(),r(),s()};return u(),{destroy:c}},v=(a("3c4d"),function(t,e){var a={Dom:{},objs:{},timeoutNav:null,timeoutNavShow:null,domEvtFuns:{slideUp:function(t,e){t.classList.remove("slide-down"),t.classList.add("slide-up"),n["a"].addEvt(t,"transitionend",(function(){t.classList.contains("slide-up")&&(t.style.display="none","function"==typeof e&&e())}))},slideDown:function(t,e){t.style.display="block",setTimeout((function(){t.classList.remove("slide-up"),t.classList.add("slide-down")}),50)},navMenuEvent:{mouseenter:function(){a.timeoutNav&&(clearTimeout(a.timeoutNav),a.timeoutNav=null)},mouseleave:function(){a.timeoutNav=setTimeout((function(){a.Dom.$navMainList.getAttribute("data-toggled")||a.domEvtFuns.slideUp(a.Dom.$navMenu)}),200)}},navMenuItemEvent:{mouseenter:function(e){var n=e.target;if(n.classList.contains("nav-item"))if(a.timeoutNav&&(clearTimeout(a.timeoutNav),a.timeoutNav=null),a.Dom.$navMainList.setAttribute("data-toggled","true"),n.classList.add("nav-item-active"),n.querySelectorAll(".children-list").length){n.querySelector(".children-list").querySelectorAll("img").forEach((function(e){if(e.getAttribute("data-src")){var a=e.getAttribute("data-src").replace(/^http(s?):/i,""),n=t.formatImageSize(a,160,110);e.setAttribute("src",n),e.removeAttribute("data-src")}}));var i="",o=n.querySelector(".children-list");i=o.cloneNode(!0),a.Dom.$navMenuContainer.innerHTML="",a.Dom.$navMenuContainer.appendChild(i),a.Dom.$navMainList.getAttribute("data-toggled")&&(a.Dom.$searchInput.blur(),a.timeoutNavShow=setTimeout((function(){a.domEvtFuns.slideDown(a.Dom.$navMenu),a.Dom.$navMenu.classList.add("header-nav-menu-active")}),200))}else a.domEvtFuns.slideUp(a.Dom.$navMenu,(function(){a.Dom.$navMenu.classList.remove("header-nav-menu-active")}))},mouseleave:function(t){var e=t.target;e.classList.contains("nav-item")&&(a.timeoutNavShow&&(clearTimeout(a.timeoutNavShow),a.timeoutNavShow=null),a.Dom.$navMainList.removeAttribute("data-toggled"),e.classList.remove("nav-item-active"),a.timeoutNav=setTimeout((function(){a.Dom.$navMainList.getAttribute("data-toggled")||a.domEvtFuns.slideUp(a.Dom.$navMenu)}),200))}}}},i=function(){},o=function(){a.Dom.$navMainList=document.querySelector(".J_navMainList"),a.Dom.$navMainListItem=a.Dom.$navMainList.querySelectorAll("li.nav-item"),a.Dom.$navMenu=document.querySelector("#J_navMenu"),a.Dom.$navMenuContainer=a.Dom.$navMenu.querySelector(".container"),a.Dom.$searchForm=document.querySelector("#J_searchForm"),a.Dom.$searchInput=a.Dom.$searchForm.querySelector("#search")},r=function(){},s=function(){n["a"].addEvt(a.Dom.$navMenu,"mouseenter",a.domEvtFuns.navMenuEvent.mouseenter),n["a"].addEvt(a.Dom.$navMenu,"mouseleave",a.domEvtFuns.navMenuEvent.mouseleave),a.Dom.$navMainListItem.forEach((function(t){n["a"].addEvt(t,"mouseenter",a.domEvtFuns.navMenuItemEvent.mouseenter),n["a"].addEvt(t,"mouseleave",a.domEvtFuns.navMenuItemEvent.mouseleave)}))},c=function(){if(a){for(var t in a.objs){var e=a.objs[t];e&&e.destroy&&e.destroy()}a=null}},u=function(){i(),o(),r(),s()};return u(),{destroy:c}}),_=(a("8241"),a("fe6a")),b=a("314b"),w=a("efd9"),y=a("8f03"),C=function(t,e){var a={Dom:{},objs:{},searchRecommendList:[],searchBoxList:[],timeoutBox:null,timeoutSearch:null,timeoutSearchTip:null,domEvtFuns:{fadeOut:function(t){t.classList.remove("fade-in"),t.classList.add("fade-out"),n["a"].addEvt(t,"transitionend",(function(){t.classList.contains("fade-out")&&(t.style.display="none")}))},fadeIn:function(t){t.style.display="block",setTimeout((function(){t.classList.remove("fade-out"),t.classList.add("fade-in")}),10)},focusMove:function(t){var e=a.Dom.$keywordList.querySelectorAll("li"),n=-1,i=e.length-1;if(e.forEach((function(t,e){t.classList.contains("active")&&(n=e)})),38===t){if(n-=1,n<0)return n=0,!1}else if(40===t&&(n+=1,n>i))return n=i,!1;n<0||(e.forEach((function(t,e){e===n?t.classList.add("active"):t.classList.remove("active")})),a.Dom.$searchInput.value=e[n].getAttribute("data-key"))},searchFormSubmit:function(t){t.preventDefault();var e=a.Dom.$searchInput.value.trim();if(e&&""!==e)a.Dom.$submitBtn.dataset&&(a.Dom.$submitBtn.dataset.log_code="bpm=28.265.3682763.1&cdm=0.0.0.0&next=28.265&query="+encodeURI(e),Object(y["a"])(a.Dom.$submitBtn,!0)),e=Object(b["a"])(e),window.location.href=o["a"].host.wwwSite+"/search?keyword="+encodeURIComponent(e);else{Object(y["a"])(a.Dom.$submitBtn,!0);var n=JSON.parse(a.Dom.$searchInput["data-keyword-config"]);window.location.href=w["a"].getActionUrl(n.action)||o["a"].host.wwwSite+"/search?keyword="+encodeURIComponent(n.search_title)}return!1},searchInputEvent:{focus:function(){a.timeoutSearch&&clearTimeout(a.timeoutSearch);var t=a.Dom.$searchInput.value.trim();a.Dom.$searchForm.classList.add("search-form-focus"),t||a.getSearchRecommend()},blur:function(){a.Dom.$searchInput.value.trim();a.timeoutSearch=setTimeout((function(){a.Dom.$searchForm.classList.remove("search-form-focus"),a.Dom.$keywordList.classList.add("hide")}),200)},keyup:function(t){var e=a.Dom.$searchInput.value.trim();a.timeoutSearchTip&&clearTimeout(a.timeoutSearchTip),e||a.getSearchRecommend(),13!=t.which&&(40!==t.which&&38!==t.which&&e?a.timeoutSearchTip=setTimeout((function(){a.getSearchTip(e)}),200):a.domEvtFuns.focusMove(t.which))}}},getSearchDefaultConfig:function(){var t=a.Dom.$searchInput.getAttribute("data-search-config").replace(/'/g,'"'),e=t?JSON.parse(t).defaultWords:[];return e||[]},getSearchRecommend:function(){0==a.searchRecommendList.length?_["a"].getSearchRecommend({}).then((function(t){200===t.code&&(t.data&&t.data.length>0?(a.searchRecommendList=t.data,a.formatSearchRecommendList(a.searchRecommendList)):(a.Dom.$keywordList.classList.add("hide"),a.Dom.$keywordList.querySelector(".result-list").innerHTML=""))})):a.formatSearchRecommendList(a.searchRecommendList)},formatSearchRecommendList:function(t){var e="";t.forEach((function(t){t.desc&&(e+='<li data-key="'+t.desc+'"><a data-log_code="'+t.logcode+'" href="'+o["a"].host.wwwSite+"/search?keyword="+encodeURIComponent(t.desc)+'">'+t.desc+"</a></li>")})),a.Dom.$keywordList.classList.remove("hide"),a.Dom.$keywordList.querySelector(".result-list").innerHTML=e,window.statInit&&window.statInit()},getSearchTip:function(t){t&&_["a"].getSearchTip({query:t,page_index:1},{param:"jsonpcallback",name:"xmsearch"}).then((function(t){if(200===t.code)if(t.data&&t.data.list&&t.data.list.length>0){var e=[];t.data.list.forEach((function(t){e.push({word:t.title,log_code:t.log_code})})),a.formatKeywordList(e)}else a.Dom.$keywordList.classList.add("hide"),a.Dom.$keywordList.querySelector(".result-list").innerHTML=""}))},formatKeywordList:function(t){var e="",n="",i=a.Dom.$searchInput.value.trim();t.forEach((function(t){n=t.word.replace(i,'<span class="keyword">'+i+"</span> "),e+='<li data-key="'+t.word+'"><a data-log_code="'+t.log_code+'" href="'+o["a"].host.wwwSite+"/search?keyword="+encodeURIComponent(t.word)+'">'+n+"</a></li>"})),a.Dom.$keywordList.classList.remove("hide"),a.Dom.$keywordList.querySelector(".result-list").innerHTML=e,window.statInit&&window.statInit()},initDefaultData:function(){_["a"].getSearchRecommend({}).then((function(t){200===t.code&&(t.data&&t.data.length>0?a.searchRecommendList=t.data:a.searchRecommendList=[])})),_["a"].getBoxRecommend({}).then((function(t){200===t.code&&(t.data&&t.data.length>0?(a.searchBoxList=t.data,a.initKeyWordTimer()):a.searchBoxList=[])}))},initKeyWordTimer:function(){var t=a.searchBoxList.shift();a.searchBoxList.push(t),t.show_title&&(a.Dom.$searchInput.placeholder=t.show_title||"",a.Dom.$submitBtn.dataset.log_code=t.log_code,a.Dom.$searchInput["data-keyword-config"]=JSON.stringify(t)),a.searchBoxList.length>1&&(a.timeoutBox=setInterval((function(){var t=a.searchBoxList.shift();a.searchBoxList.push(t),a.Dom.$searchInput.placeholder=t.show_title||"",a.Dom.$submitBtn.dataset.log_code=t.log_code,a.Dom.$searchInput["data-keyword-config"]=JSON.stringify(t)}),6e3))},initBoxTimer:function(){var t=a.searchBoxList.shift();a.searchBoxList.push(t),a.Dom.$searchHotWords.innerHTML='<a data-log_code="'+(t.action&&t.action.log_code)+'" href="'+(w["a"].getActionUrl(t.action)||o["a"].host.wwwSite+"/search?keyword="+encodeURIComponent(t.search_title))+'">'+t.show_title+"</a>",window.statInit&&window.statInit(),a.searchBoxList.length>1&&(a.timeoutBox=setInterval((function(){var t=a.searchBoxList.shift();a.searchBoxList.push(t),a.Dom.$searchHotWords.innerHTML='<a data-log_code="'+(t.action&&t.action.log_code)+'" href="'+(w["a"].getActionUrl(t.action)||o["a"].host.wwwSite+"/search?keyword="+encodeURIComponent(t.search_title))+'">'+t.show_title+"</a>",window.statInit&&window.statInit()}),6e3))}},i=function(){},r=function(){a.Dom.$searchForm=document.querySelector("#J_searchForm"),a.Dom.$keywordList=document.querySelector("#J_keywordList"),a.Dom.$searchInput=a.Dom.$searchForm.querySelector("#search"),a.Dom.$searchHotWords=a.Dom.$searchForm.querySelector(".search-hot-words"),a.Dom.$submitBtn=document.querySelector("#J_submitBtn")},s=function(){a.initDefaultData()},c=function(){n["a"].addEvt(a.Dom.$searchForm,"submit",a.domEvtFuns.searchFormSubmit),n["a"].addEvt(a.Dom.$searchInput,"focus",a.domEvtFuns.searchInputEvent.focus),n["a"].addEvt(a.Dom.$searchInput,"blur",a.domEvtFuns.searchInputEvent.blur),n["a"].addEvt(a.Dom.$searchInput,"keyup",a.domEvtFuns.searchInputEvent.keyup)},u=function(){if(a){for(var t in a.objs){var e=a.objs[t];e&&e.destroy&&e.destroy()}a=null}},l=function(){i(),r(),s(),c()};return l(),{destroy:u}};e["default"]=function(t,e){var a={Dom:{},objs:{},timeoutNav:null,timeoutNavShow:null,timeoutMiniCart:null,domEvtFuns:{globalSiteDialog:function(){var e=document.querySelector("#J_globalSiteLinks").innerHTML,a='<div><h3>Welcome to Mi.com</h3><p class="tips">Please select location or language</p><div class="links clearfix">'+e+"</div></div>";t.$dialog({title:"Select location or language",width:"840px",dialogClass:"site-select-regions",contentData:"contentData",content:a})},downloadApp:{mouseenter:function(){a.Dom.$downLoadApp.classList.add("active")},mouseleave:function(){a.Dom.$downLoadApp.classList.remove("active")}}}},o=function(){if(!e)throw"args el is needed."},r=function(){a.Dom.$globalRegion=document.querySelectorAll(".J_siteGlobalRegion"),a.Dom.$downLoadApp=document.querySelector("#J_siteDownloadApp")},s=function(){a.objs.setLoginInfo=Object(i["a"])(t),a.objs.miniCart=u(t),a.objs.category=g(t),a.objs.nav=v(t),a.objs.search=C()},c=function(){a.Dom.$globalRegion.forEach((function(t){n["a"].addEvt(t,"click",a.domEvtFuns.globalSiteDialog)})),n["a"].addEvt(a.Dom.$downLoadApp,"mouseenter",a.domEvtFuns.downloadApp.mouseenter),n["a"].addEvt(a.Dom.$downLoadApp,"mouseleave",a.domEvtFuns.downloadApp.mouseleave)},l=function(){if(a){for(var t in a.objs){var e=a.objs[t];e&&e.destroy&&e.destroy()}a=null}},d=function(){o(),r(),s(),c()};return d(),{destroy:l}}},fd32:function(t,e,a){"use strict";a.r(e);var n=a("a026"),i=(a("96a6"),a("1b9e"),a("f644")),o=a("31bc"),r=a("3575"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uc-box uc-main-box"},[a("div",{staticClass:"uc-content-box order-list-box"},[a("div",{staticClass:"box-hd"},[a("h1",{staticClass:"title"},[t._v("\n                我的订单"),a("small",[t._v("请谨防钓鱼链接或诈骗电话，"),a("a",{attrs:{href:t.wwwSite+"/service/buy/Avoid%20Fraud/",target:"_blank"}},[t._v("了解更多>")])])]),a("div",{staticClass:"more clearfix"},[a("ul",{staticClass:"filter-list"},[a("li",{class:["first",{active:t.typeConfig.all.includes(t.orderSettings.type)}]},[a("a",{attrs:{"data-stat-id":"57897755adc8c1e0",href:"javascript:void(0);"},on:{click:function(e){return t.changeType(t.typeConfig.all[0])}}},[t._v("全部有效订单")])]),a("li",{class:{active:t.orderSettings.type==t.typeConfig.waitPay}},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeType(t.typeConfig.waitPay)}}},[t._v("\n                            待支付 "+t._s(t.unpaid_count?"("+t.unpaid_count+")":"")+"\n                        ")])]),a("li",{class:{active:t.orderSettings.type==t.typeConfig.waitReceive}},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.changeType(t.typeConfig.waitReceive)}}},[t._v("\n                            待收货 "+t._s(t.send_count?"("+t.send_count+")":"")+"\n                        ")])]),a("li",{class:{active:t.orderSettings.type==t.typeConfig.recycleBin}},[a("a",{attrs:{"data-stat-id":"1591d5f9a89e8bb6",href:"javascript:void(0);"},on:{click:function(e){return t.changeType(t.typeConfig.recycleBin)}}},[t._v("订单回收站")])])]),a("div",{staticClass:"search-form clearfix"},[a("label",{staticClass:"hide",attrs:{for:"search"}},[t._v("站内搜索")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.orderSettings.keywords,expression:"orderSettings.keywords",modifiers:{trim:!0}}],staticClass:"search-text",attrs:{type:"search",name:"keywords",autocomplete:"off",placeholder:"输入商品名称、订单号"},domProps:{value:t.orderSettings.keywords},on:{input:function(e){e.target.composing||t.$set(t.orderSettings,"keywords",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("input",{staticClass:"search-btn iconfont",attrs:{type:"button",value:""},on:{click:t.searchOrderList}})])])]),a("div",{staticClass:"box-bd"},[t.isLoading?a("div",{staticClass:"loading"},[a("div",{staticClass:"loader"})]):t.isError?a("error",{attrs:{msg:t.msg}}):a("div",[a("ul",{staticClass:"order-list"},[t.orderData.length?t._l(t.orderData,(function(e,n){return a("order-li",{key:n,tag:"li",attrs:{"data-li":e},on:{"get-order-list":t.getOrderList}})})):a("p",{staticClass:"empty"},[t._v("当前没有"+t._s(t.typeTitle)+"。")])],2),t.total_count?a("page-nav",{attrs:{total:t.total_pages,current:t.orderSettings.page},on:{callback:t.updatePageNav}}):t._e()],1)],1)])])},c=[],u=a("a34a"),l=a.n(u),d=a("d654"),m=a("2907"),f=a("b38c"),p=a("6522"),h=a("2ec8"),g=a("751a"),v=a("7f19"),_=a("4328"),b=a.n(_),w=a("a417"),y={getOrderList:function(t,e){return g["a"].get("".concat(w["a"].host.orderApi,"/order_center/list"),{params:t},e)},removeOrder:function(t,e){return g["a"].get("".concat(w["a"].host.orderApi,"/order_center/removeTrash"),{params:t},e)},restoreOrder:function(t,e){return g["a"].get("".concat(w["a"].host.orderApi,"/order_center/removeBack"),{params:t},e)},deleteOrder:function(t,e){return g["a"].get("".concat(w["a"].host.orderApi,"/order_center/del"),{params:t},e)},getDelivery:function(t,e){return g["a"].get("".concat(w["a"].host.orderApi,"/order_center/batch_express"),{params:t},e)},checkPreorder:function(t,e){return Object(v["a"])("".concat(w["a"].host.orderApi,"/tail_order/check_preorder"),t,e)},addChart:function(t,e){return g["a"].post("".concat(w["a"].host.orderApi,"/tail_order/addcart"),b.a.stringify(t),e)},urge:function(t,e){return g["a"].post("".concat(w["a"].host.orderApi,"/order_center/urge"),b.a.stringify(t),e)}},C=a("986e"),S=a("b44c"),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{class:["uc-order-item","uc-order-item-"+t.orderStatusClass]},[t.isShowDelIcon?a("div",{staticClass:"order-remove",on:{click:function(e){return t.handleOrderResult()}}},[a("img",{attrs:{src:"//i1.mifile.cn/f/i/2019/order/trash.png",alt:"垃圾桶"}})]):t._e(),t._l(t.deliversFinal,(function(e,n){return a("order-item",{key:n,attrs:{"data-item":t.dataLi,deliversVal:e,index:n,isShowPackageTag:t.isShowPackageTag}})}))],2)},x=[],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-detail"},[a("div",{staticClass:"order-summary"},[a("div",{staticClass:"order-status"},[t._v("\n            "+t._s(t.deliversVal.order_status_info||t.dataItem.order_status_info)+"\n            "),t.isShowPackageTag?a("span",{staticClass:"tag tag-package"},[t._v("包裹"+t._s(t.index+1))]):t._e()]),t.deliversLen&&t.deliversVal.show_express_trace?[a("p",{staticClass:"order-desc"},[a("a",{staticClass:"delivery-link",on:{click:t.showDelivery}},[t._v("查看物流详情"),a("span",{staticClass:"tri"})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDelivery,expression:"isShowDelivery"}],staticClass:"order-delivery"},[a("p",{staticClass:"delivery-num"},[t._v("\n                    物流公司：\n                    "),a("a",{staticClass:"website",attrs:{href:t.deliversVal.express_web_site,target:"_blank"}},[t._v("\n                        "+t._s(t.deliversVal.express_name)+"\n                        "),a("i",{staticClass:"iconfont"},[t._v("")])]),t._v("\n                    运单号："+t._s(t.deliversVal.express_sn)+"\n                ")]),a("div",{staticClass:"delivery-list-wrapper"},[a("ul",{staticClass:"delivery-list"},[t.isloading?a("li",{staticClass:"loading"},[a("div",{staticClass:"loader"})]):t._e(),t.delivery_list.length?t._l(t.delivery_list,(function(e,n){return a("li",{key:n,class:{first:!n,last:n===t.delivery_list.length-1}},[t._v("\n                                "+t._s(e.context)+" "+t._s(e.time)+"\n                            ")])})):t._e(),t.delivery_list.length?t._e():a("li",{staticClass:"empty"},[t._v("暂无物流信息。")])],2)])])]:1===t.dataItem.isPreSale||t.dataItem.delivery_info?a("p",{staticClass:"order-desc"},[1===t.dataItem.isPreSale?[t._v("\n                付款成功，预计"+t._s(t.dataItem.preSaleTime)+"发货。\n            ")]:t._e(),t.dataItem.delivery_info?[t._v("\n                "+t._s(t.dataItem.delivery_info.replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"').replace(/'/g,"'"))+"\n            ")]:t._e()],2):t._e(),t.dataItem.isGift?a("div",{staticClass:"flag flag-gift"},[t._v("礼物"),a("div",{staticClass:"popup-tip"},[t._v("这是为您准备的礼物，以表达我们的诚意")])]):t._e()],2),a("table",{staticClass:"order-detail-table"},[a("thead",[a("tr",[a("th",{staticClass:"col-main"},[a("p",{staticClass:"caption-info"},[t._v("\n                        "+t._s(t.dataItem.add_time)+"\n                        "),a("span",{staticClass:"sep"},[t._v("|")]),t._v("\n                        "+t._s(t.dataItem.consignee)+"\n                        "),a("span",{staticClass:"sep"},[t._v("|")]),t._v("\n                        订单号："),a("a",{attrs:{href:t.wwwSite+"/user/orderView?order_id="+t.dataItem.order_id}},[t._v(t._s(t.dataItem.order_id))]),a("span",{staticClass:"sep"},[t._v("|")]),parseInt(t.dataItem.p_order_id)>0?a("span",{staticClass:"hide"},[t._v("原订单号："+t._s(t.dataItem.p_order_id)),a("span",{staticClass:"sep"},[t._v("|")])]):t._e(),t._v("\n                        "+t._s(t.dataItem.pay_name)+"\n                    ")])]),a("th",{staticClass:"col-sub"},[a("p",{staticClass:"caption-price"},[t._v("\n                        "+t._s(t.dataItem.amount_title)+"：\n                        "),t.deliversLen?[t.hasWAIT_FINAL_MONEY_PREPAY?a("span",{staticClass:"num"},[t._v(t._s(t.dataItem.prepay_info.price_title))]):[a("span",{staticClass:"num"},[t._v(t._s(t.dataItem.amount_value))]),t._v("元\n                            ")]]:t.hasWAIT_FINAL_MONEY_PREPAY||t.hasPAY_FINAL_MONEY_PREPAY?[t.dataItem.amount_value&&t.dataItem.amount_value.indexOf("元")>-1?[a("span",{staticClass:"num"},[t._v("\n                                    "+t._s(t.dataItem.amount_value.substring(0,t.dataItem.amount_value.indexOf("元")))+"\n                                ")]),t._v("\n                                "+t._s(t.dataItem.amount_value.substring(t.dataItem.amount_value.indexOf("元")))+"\n                            ")]:[a("span",{staticClass:"num"},[t._v(t._s(t.dataItem.amount_value))])]]:[a("span",{staticClass:"num"},[t._v(t._s(t.dataItem.amount_value))]),t._v("元\n                        ")]],2)])])]),a("tbody",[a("tr",[a("td",{staticClass:"order-items"},[a("ul",{staticClass:"goods-list"},t._l(t.productFinal,(function(e,n){return a("order-goods",{key:"goods_"+n,tag:"li",attrs:{"data-item":t.dataItem,"pro-val":e,"delivers-len":t.deliversLen}})})),1)]),a("td",{staticClass:"order-actions"},[0==t.index?[1===t.dataItem.isPay?a("a",{staticClass:"btn btn-small btn-primary",attrs:{href:t.wwwSite+"/buy/confirm?id="+t.dataItem.order_id,target:"_blank"}},[t._v("立即付款")]):t._e(),t.hasPAY_PRE_MONEY?a("a",{staticClass:"btn btn-small btn-primary",attrs:{href:t.wwwSite+"/buy/confirm?id="+t.dataItem.order_id,target:"_blank"}},[t._v("立即付款")]):t._e(),t.hasPAY_FINAL_MONEY?a("a",{staticClass:"btn btn-small btn-primary",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.payTheBalance(t.dataItem.order_id,t.dataItem.product[0]["goods_id"])}}},[t._v("支付尾款")]):t._e(),t.hasWAIT_FINAL_MONEY?a("a",{staticClass:"btn btn-small btn-disabled",attrs:{href:"javascript:void(0);"}},[t._v("支付尾款")]):t._e(),!t.deliversLen&&t.dataItem.prepay_info?[t.hasPAY_PRE_MONEY_PREPAY?a("a",{staticClass:"btn btn-small btn-primary",attrs:{href:t.wwwSite+"/buy/confirm?id="+t.dataItem.order_id,target:"_blank"}},[t._v("立即付款")]):t.hasPAY_FINAL_MONEY_PREPAY?a("a",{staticClass:"btn btn-small btn-primary",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.payTheBalance(t.dataItem.order_id,t.dataItem.product[0]["goods_id"],t.dataItem.prepay_info.prepay_batch_id)}}},[t._v("支付尾款")]):t.hasWAIT_FINAL_MONEY_PREPAY?a("a",{staticClass:"btn btn-small btn-disabled",attrs:{href:"javascript:void(0);"}},[t._v("支付尾款")]):t.servertime>t.dataItem.prepay_info.final_end_time?a("a",{staticClass:"btn btn-small btn-disabled",attrs:{href:"javascript:void(0);"}},[t._v("支付时间截止")]):t._e()]:t._e(),a("a",{staticClass:"btn btn-small btn-line-gray",attrs:{href:t.wwwSite+"/user/orderView?order_id="+t.dataItem.order_id}},[t._v("订单详情")]),t.hasURGE_ORDER?a("a",{class:["btn","btn-small","btn-line-gray",{"btn-disabled":t.isUrgeSuccess}],attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.handleOrderUrge(t.dataItem.order_id)}}},[t._v(t._s(t.isUrgeSuccess?"已催单":"催单发货"))]):t._e(),t.hasURGE_ORDER_ALREADY?a("a",{staticClass:"btn btn-small btn-line-gray btn-disabled",attrs:{href:"javascript:void(0);","data-id":t.dataItem.order_id}},[t._v("已催单")]):t._e(),t.isShowFansCardAuth?a("div",{staticClass:"fanscard-info"},[a("a",{staticClass:"btn btn-small btn-primary btn-fanscard",attrs:{target:"_blank"},on:{click:t.handleShowRealnameAuth}},[t._v("实名登记")])]):t._e(),t.dataItem.has2016SummerTicket?a("a",{staticClass:"btn btn-small btn-primary",attrs:{href:"javascript:void(0);"}},[t._v("查看电子门票")]):t._e(),t.dataItem.is_comment>0?a("a",{staticClass:"btn btn-small btn-line-gray comments",attrs:{href:t.wwwSite+"/user/commentDetail?order_id="+t.dataItem.order_id,target:"_blank"}},[t._v("评价晒单")]):t._e(),t.dataItem.order_next.includes("REMOVE_CANCEL")?a("a",{staticClass:"btn btn-small btn-line-gray",attrs:{href:"javascript:;"},on:{click:function(e){return t.restoreOrder(t.dataItem.order_id)}}},[t._v("还原订单")]):1===t.dataItem.isPostsaleService?a("a",{staticClass:"btn btn-small btn-line-gray",attrs:{href:t.serviceUrl+"/apply/order/id/"+t.dataItem.order_id,target:"_blank"}},[t._v("申请售后")]):t._e(),t.canBuyInsurance?a("a",{staticClass:"btn btn-small btn-line-gray",attrs:{href:t.wwwSite+"/user/orderView?order_id="+t.dataItem.order_id+"#buyInsurance"}},[t._v("购买意外保")]):t._e(),t.dataItem.has_miwater&&!t.dataItem.has_water_tap&&t.dataItem.has_pay?a("a",{staticClass:"btn btn-small btn-line-gray",attrs:{href:"#waterInstall"}},[t._v("预约安装服务")]):t._e(),t.is_home_fix?a("a",{staticClass:"btn btn-small btn-line-gray",attrs:{target:"_blank",href:t.serviceUrl+"/apply/visitRepair/id/"+t.dataItem.order_id}},[t._v("使用服务")]):t._e(),t.is_service_fix?a("a",{staticClass:"btn btn-small btn-line-gray",attrs:{href:"javascript:void(0)"},on:{click:t.useServiceFix}},[t._v("申请服务")]):t._e(),a("a",{staticClass:"btn btn-small btn-line-gray btn-contract",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.showContact()}}},[t._v("联系客服")])]:t._e(),t.deliversLen&&t.deliversVal.has_mijia_cloud?a("a",{staticClass:"btn btn-small btn-primary",attrs:{target:"_blank",href:t.mSite+"/order/card?id="+t.dataItem.order_id+"&type=mijia_cloud&headless=1"}},[t._v("查看激活码")]):t._e(),t.deliversLen&&t.dataItem.has_one_send&&t.deliversVal.has_mitv_vip?a("a",{staticClass:"btn btn-small btn-primary",attrs:{target:"_blank",href:"http://tv.mi.com/store/card/miorder"}},[t._v("查看激活码")]):t._e()],2)])])])])},L=[],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qrcode-wrapper"},[a("div",{ref:"qrcode",class:{imgCode:"img"!=t.typeFinal}},["img"===t.typeFinal?a("img",{attrs:{src:t.url||t.defaultImg,alt:""}}):t._e()])])},I=[],O=a("d044"),E=a.n(O),A=null,T={name:"qrCode",props:["type","url"],data:function(){return{defaultImg:"//i1.mifile.cn/f/i/17/appdownload/download.png?v1",typeFinal:this.type}},methods:{bindQRCode:function(){var t=this;if("url"===this.type){if(!this.url)return void(this.typeFinal="img");A&&A.clear(),A=new E.a(this.$refs.qrcode,{text:t.url,width:160,height:170,correctLevel:E.a.CorrectLevel.L})}}},mounted:function(){var t=this;this.$nextTick((function(){t.bindQRCode()}))}},j=T,M=(a("2059"),a("2877")),P=Object(M["a"])(j,$,I,!1,null,"9aef8a0c",null),N=P.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("div",{staticClass:"figure figure-thumb"},[t.proVal.image_url?[t.isNotShowGoodsLink?a("img",{attrs:{src:t.formatImageSize(t.proVal.image_url,80,80),width:"80",height:"80",alt:t.proVal.product_name}}):a("a",{attrs:{href:t.wwwSite+"/buy?product_id="+t.proVal.commodity_id,target:"_blank"}},[a("img",{attrs:{src:t.formatImageSize(t.proVal.image_url,80,80),width:"80",height:"80",alt:t.proVal.product_name}})])]:t._e()],2),a("p",{staticClass:"name"},[t.isNotShowGoodsLink?[t._v("\n            "+t._s(t.proVal.product_name)+"\n        ")]:a("a",{attrs:{href:t.wwwSite+"/buy?product_id="+t.proVal.commodity_id,target:"_blank"}},[t._v(t._s(t.proVal.product_name))]),t.isShowTradingSnapshot?a("a",{staticClass:"trading-snapshot-link",attrs:{target:"_blank",href:t.trading_snapshot_link}},[t._v("[交易快照]")]):t._e(),"8"===t.proVal.mall10046_interface_status?a("span",{staticClass:"tag tag-vno-activate"},[t._v("已激活")]):t._e()],2),a("p",{staticClass:"price"},[t.dataItem.prepay_info?[t._v("\n            "+t._s(null!=t.proVal.price_title?t.proVal.price_title:"")+"\n        ")]:[t._v("\n            "+t._s(t.proVal.price)+"元 × "+t._s(t.proVal.product_count)+"\n        ")]],2),t.proVal.item_tips?a("p",{staticClass:"price",staticStyle:{color:"#ff6700"}},[t._v(t._s(t.proVal.item_tips))]):t._e()])},F=[],U={name:"order-good",props:["dataItem","proVal","deliversLen"],data:function(){return{wwwSite:w["a"].host.wwwSite}},computed:{isNotShowGoodsLink:function(){return!!this.proVal.isContract||(this.deliversLen?!!this.dataItem.prepay_info:!!(this.dataItem.prepay_info||this.proVal.tags&&this.proVal.tags.indexOf("NOT_CLICKABLE")>-1))},isShowTradingSnapshot:function(){return this.dataItem.show_order_photo},trading_snapshot_link:function(){return"".concat(w["a"].host.wwwSite,"/user/tradingSnapshot?order_id=").concat(this.dataItem.order_id,"&goods_id=").concat(this.proVal.goods_id)}},mounted:function(){}},q=U,B=(a("4b22"),Object(M["a"])(q,R,F,!1,null,"1e04aab1",null)),H=B.exports;function J(t,e,a,n,i,o,r){try{var s=t[o](r),c=s.value}catch(u){return void a(u)}s.done?e(c):Promise.resolve(c).then(n,i)}function Y(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var o=t.apply(e,a);function r(t){J(o,n,i,r,s,"next",t)}function s(t){J(o,n,i,r,s,"throw",t)}r(void 0)}))}}var V={name:"order-item",components:{orderGoods:H,qrcode:N},props:["dataItem","index","isShowPackageTag","deliversVal"],data:function(){return{mSite:w["a"].host.mSite,wwwSite:w["a"].host.wwwSite,itemSite:w["a"].host.itemSite,orderSite:w["a"].host.orderSite,cartSite:w["a"].host.cartSite,serviceUrl:w["a"].host.serviceUrl,order_next:this.dataItem.order_next||[],isUrgeSuccess:!1,servertime:window.servertime,delivery_list:[],isloading:!0,isShowDelivery:!1,hasResult:!1}},computed:{is_service_fix:function(){return this.deliversLen?this.deliversVal.is_service_fix:this.dataItem.is_service_fix},is_home_fix:function(){return this.deliversLen?this.deliversVal.is_home_fix:this.dataItem.is_home_fix},canBuyInsurance:function(){return this.deliversLen?this.deliversVal.canBuyInsurance:this.dataItem.canBuyInsurance},productFinal:function(){return this.deliversVal.product||this.dataItem.product},hasWAIT_FINAL_MONEY_PREPAY:function(){return this.order_next.includes("WAIT_FINAL_MONEY_PREPAY")},hasPAY_FINAL_MONEY_PREPAY:function(){return this.order_next.includes("PAY_FINAL_MONEY_PREPAY")},hasPAY_PRE_MONEY:function(){return this.order_next.includes("PAY_PRE_MONEY")},hasPAY_FINAL_MONEY:function(){return this.order_next.includes("PAY_FINAL_MONEY")},hasWAIT_FINAL_MONEY:function(){return this.order_next.includes("WAIT_FINAL_MONEY")},hasPAY_PRE_MONEY_PREPAY:function(){return this.order_next.includes("PAY_PRE_MONEY_PREPAY")},hasURGE_ORDER:function(){return this.order_next.includes("URGE_ORDER")},hasURGE_ORDER_ALREADY:function(){return this.order_next.includes("URGE_ORDER_ALREADY")},hasVNO_UPLOAD_CERT_IMAGE:function(){return this.order_next.includes("VNO_UPLOAD_CERT_IMAGE")},hasUPLOAD_CERT_IMAGE:function(){return this.order_next.includes("UPLOAD_CERT_IMAGE")},deliversLen:function(){return this.dataItem.delivers?this.dataItem.delivers.length:0},isShowFansCardAuth:function(){return this.deliversLen?this.hasUPLOAD_CERT_IMAGE:this.hasVNO_UPLOAD_CERT_IMAGE&&this.dataItem.vnoUploadInfo}},watched:{expressTotalNum:function(){}},methods:{useServiceFix:function(){this.alertTip({msg:"建议您下载小米商城APP申请使用服务"})},restoreOrder:function(){var t=Y(l.a.mark((function t(e){var a,n;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.restoreOrder({order_id:e});case 3:a=t.sent,200===a.code?(n=this.confirmTip({title:"订单还原成功",msg:"您可以在“全部有效订单”中查看",okText:"确认",customClass:"restore-order",onOk:function(){var t=Y(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.hide();case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}),C["a"].$emit("getOrderList")):this.alertTip({msg:a.msg||"加载失败，请刷新再试！"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.alertTip({msg:"加载失败，请刷新再试！"});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),handleShowRealnameAuth:function(){var t,e;this.deliversLen?(e="img",t=this.dataItem.fanscard_auth_qrcode):(e="url",t=this.dataItem.vnoUploadInfo.rqCodeUrl),this.$dialog({type:"plain",isHideHeader:!1,width:"496px",title:"实名登记",dialogClass:"realname-dialog",components:{qrcode:N},contentData:{jumpurl:t,type:e},content:'\n                        <qrcode :url="contentData.jumpurl" :type="contentData.type"></qrcode>\n                        <p>扫描二维码，进行实名登记</p>\n                    '})},payTheBalance:function(){var t=Y(l.a.mark((function t(e,a,n){var i;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.checkPreorder({order_id:e});case 3:i=t.sent,200==i.code?0==i.data.tail_order_id?n?location.href="".concat(w["a"].host.wwwSite,"/buy/prepay?order_id=").concat(e,"&bid=").concat(n):this.addCart(e,a,n):(this.alertTip({msg:i.msg||"您已生成预付款订单，请稍后查看~"}),location.href="".concat(w["a"].host.wwwSite,"/user/orderList")):this.alertTip({customClass:"pay-balance",msg:i.msg||"请求失败，请稍后再试"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.alertTip({isHideFoot:!0,msg:t.t0||"请求失败，请稍后再试"});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e,a,n){return t.apply(this,arguments)}return e}(),addCart:function(t,e,a,n){var i=this;y.addChart({source:"tailorder",product_id:e,pre_order_id:t,batched_id:a,items_id:n}).then((function(t){200==t.code?location.href="".concat(w["a"].host.wwwSite,"/buy/cart"):-30006===t.code||3250008===t.code||3250009===t.code?i.confirmTip({customClass:"pay-balance",msg:t.msg||"请求失败，请稍后再试",onOk:function(){location.href="".concat(w["a"].host.wwwSite,"/buy/cart")}}):i.alertTip({msg:t.msg||"请求失败，请稍后再试"})})).catch((function(t){i.alertTip({isHideFoot:!0,msg:t.msg||"请求失败，请稍后再试"})}))},handleOrderUrge:function(){var t=Y(l.a.mark((function t(e){var a;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isUrgeSuccess){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,y.urge({order_id:e});case 5:a=t.sent,200==a.code?(this.confirmTip({customClass:"urge-order",title:"很抱歉，让您久等了",msg:"您的提醒已收到，我们将尽快发货"}),this.isUrgeSuccess=!0):this.alertTip({isHideFoot:!0,msg:a.msg||"催单失败，请稍后再试"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),this.alertTip({msg:t.t0});case 12:case"end":return t.stop()}}),t,this,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),getDeliveryList:function(){var t=Y(l.a.mark((function t(){var e,a;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isShowDelivery=!0,e=this.deliversVal.deliver_id,t.prev=2,t.next=5,y.getDelivery({deliver_ids:String(e)});case 5:a=t.sent,this.isloading=!1,200==a.code?this.delivery_list=a.data[e]||[]:this.delivery_list=[],t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),this.isloading=!1;case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}(),showDelivery:function(){this.isShowDelivery||(this.isShowDelivery=!0,this.getDeliveryList())}},mounted:function(){this.deliversVal.show_express_trace&&C["a"].$data.expressTotalNum<3&&(this.getDeliveryList(),C["a"].$data.expressTotalNum+=1)}},W=V,G=(a("070a"),Object(M["a"])(W,k,L,!1,null,"2578ff26",null)),X=G.exports;function z(t,e,a,n,i,o,r){try{var s=t[o](r),c=s.value}catch(u){return void a(u)}s.done?e(c):Promise.resolve(c).then(n,i)}function K(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var o=t.apply(e,a);function r(t){z(o,n,i,r,s,"next",t)}function s(t){z(o,n,i,r,s,"throw",t)}r(void 0)}))}}var Q={name:"order-li",components:{orderItem:X},props:{dataLi:{type:Object,default:{}}},data:function(){return{delivers:[]}},computed:{deliversFinal:function(){return this.dataLi.delivers.length?this.dataLi.delivers:[{}]},isShowPackageTag:function(){return this.dataLi.delivers.length>1},orderStatusClass:function(){var t=this.dataLi.show_status;return 1===t?"pay":2===t?"shipping":"finish"},isShowDelIcon:function(){return!!this.dataLi.order_next&&(this.dataLi.order_next.includes("REMOVE_TMP")||this.dataLi.order_next.includes("REMOVE_DEL"))},finalDelivers:function(){var t=this.dataLi.delivers;if(t&&t.length)return t}},methods:{handleOrderResult:function(){var t=this,e=this.dataLi,a=e.order_next,n=e.order_id;if(a&&a.length){var i,o,r;a.includes("REMOVE_TMP")?(r=1,i="您确定要删除订单吗？",o="删除后，您可以在订单回收站还原该订单，也可以永久删除"):a.includes("REMOVE_DEL")&&(r=2,i="您确定要永久删除订单吗？",o="永久删除后，订单将无法恢复，您将无法对该订单的商品申请售后服务，请谨慎操作");var s=this.confirmTip({title:i,msg:o,okText:"确认删除",cancelText:"取消",onOk:function(){var e=K(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.hide();case 2:t.getOrderResult(r,n);case 3:case"end":return e.stop()}}),e)})));function a(){return e.apply(this,arguments)}return a}()})}},getOrderResult:function(){var t=K(l.a.mark((function t(e,a){var n,i;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={1:"removeOrder",2:"deleteOrder"},t.next=3,y[n[e]]({order_id:a});case 3:i=t.sent,200==i.code?C["a"].$emit("getOrderList"):this.alertTip({msg:i.msg||"加载失败，请刷新再试！"});case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()}},Z=Q,tt=Object(M["a"])(Z,D,x,!1,null,"1df9de88",null),et=tt.exports;function at(t,e,a,n,i,o,r){try{var s=t[o](r),c=s.value}catch(u){return void a(u)}s.done?e(c):Promise.resolve(c).then(n,i)}function nt(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var o=t.apply(e,a);function r(t){at(o,n,i,r,s,"next",t)}function s(t){at(o,n,i,r,s,"throw",t)}r(void 0)}))}}function it(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ot(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?it(a,!0).forEach((function(e){rt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):it(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function rt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var st=f["a"].getHash,ct=Object(h["a"])("xm_order_btauth")||"",ut={type:"0",page:1,keywords:""},lt={name:"order-main",components:{pageNav:d["a"],orderLi:et,Error:S["a"]},data:function(){return{wwwSite:w["a"].host.wwwSite,isError:!1,msg:"该订单不存在",typeConfig:{all:["0","2"],waitPay:"7",waitReceive:"8",recycleBin:"20",search:"12"},isLoading:!1,orderRemoveId:"",orderSettings:{},unpaid_count:0,send_count:0,total_pages:0,total_count:0,orderData:[],typeTitle:"交易订单"}},computed:{isMyOrder:function(){var t=Object.values(this.typeConfig).flat();return t.includes(this.orderSettings.type)}},methods:{setOrderSettingsByUrl:function(t){this.orderSettings=ot({},ut,{},this.orderSettings,{},t)},changeHash:function(){var t=this.orderSettings,e=t.type,a=t.page,n=t.keywords,i="#type=".concat(e);a&&a>1&&(i+="&page=".concat(a)),n&&(i+="&keywords=".concat(n)),location.hash=i},changeType:function(t){this.setOrderSettingsByUrl({type:t,page:1,keywords:""}),this.changeHash(),this.getOrderList()},searchOrderList:function(){this.setOrderSettingsByUrl({page:1,type:this.typeConfig.search}),this.changeHash(),this.getOrderList()},updatePageNav:function(t){this.orderSettings.page=t,this.changeHash(),this.getOrderList(),Object(p["a"])(0,10)},getOrderList:function(){var t=nt(l.a.mark((function t(e){var a,n,i;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isLoading){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,this.isLoading=!0,a=ot({},ut,{},this.orderSettings,{},e),n={type:a.type,page:a.page,bts:ct,keywords:a.keywords},t.next=8,y.getOrderList(n);case 8:i=t.sent,this.isLoading=!1,200===i.code?this.buildOrderList(i.data):-2===i.code?this.goOrderLogin():(this.loading=!1,this.isError=!0,this.msg=i.msg),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),this.isLoading=!1;case 16:case"end":return t.stop()}}),t,this,[[2,13]])})));function e(e){return t.apply(this,arguments)}return e}(),buildOrderList:function(t){C["a"].$data.expressTotalNum=0,this.unpaid_count=t.ext.unpaid_count,this.send_count=t.ext.send_count,this.orderData=t.orderData,this.total_pages=t.total_pages,this.total_count=t.total_count,t.orderData.length||(this.typeTitle=t.typeTitle)}},created:function(){Object(m["a"])()},mounted:function(){this.setOrderSettingsByUrl({type:st("type")||ut.type,page:parseInt(st("page"))||1,keywords:st("keywords")}),this.getOrderList(),C["a"].$on("getOrderList",this.getOrderList)}},dt=lt,mt=(a("8790"),Object(M["a"])(dt,s,c,!1,null,null,null)),ft=mt.exports;new n["a"]({components:{orderMain:ft},data:function(){return{asideType:""}},methods:{setAsideType:function(t){this.asideType=t}},mounted:function(){this.header=Object(i["default"])(this,this.$refs.J_siteHeader),this.footer=Object(o["default"])(this,this.$refs.J_siteFooter),this.userMenu=Object(r["default"])(this,this.$refs.J_siteUserMenu)},destroyed:function(){this.header.destroy(),this.footer.destroy(),this.userMenu.destroy()}}).$mount("#app")},fe6a:function(t,e,a){"use strict";var n=a("7f19"),i=a("a417"),o=a("751a");e["a"]={getSearchTip:function(t,e){return Object(n["a"])(i["a"].host.orderApi+"/search/query",t,e)},getSearchRecommend:function(t,e){return Object(n["a"])(i["a"].host.orderApi+"/search/droplist",t,e)},getBoxRecommend:function(t,e){return Object(n["a"])(i["a"].host.orderApi+"/search/box",t,e)},getMessage:function(t,e){return Object(n["a"])(i["a"].host.serviceApi+"/msg/pick",t,e)},loginInit:function(t,e){return Object(n["a"])("//userid.xiaomi.com/userId",t,e)},getAgreementInfo:function(t,e){var a=i["a"].host.serviceApi,o=["login","register"];return t&&t.action&&o.includes(t.action)?a+="/agreement/actioninfo":a+="/agreement/info",Object(n["a"])(a,t,e)},getPageContent:function(t,e){return Object(n["a"])(i["a"].host.orderSite+"/api/getPageContent.php",t,e)},sureAgreement:function(t,e){return Object(n["a"])(i["a"].host.serviceApi+"/agreement/sign",t,e)},getUserName:function(t,e){return o["a"].get("".concat(i["a"].host.serviceApi,"/user/userinfo"),t,e)}}}});
//# sourceMappingURL=orderList.db60c92e.js.map
(function(e){function t(t){for(var n,s,c=t[0],r=t[1],u=t[2],d=0,m=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,c=1;c<a.length;c++){var r=a[c];0!==i[r]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={"buy/confirm":0},o=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="//s02.mifile.cn/assets/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=r;o.push([9,"chunk-vendors"]),a()})({"0128":function(e,t,a){"use strict";var n=a("9302");function i(e,t){1===e.nodeType&&(Object(n["a"])(e,t)||(e.className+=" "+t))}t["a"]=i},"0542":function(e,t,a){},"0999":function(e,t,a){},"0abc":function(e,t,a){"use strict";var n=a("0d1a"),i=a.n(n);i.a},"0d1a":function(e,t,a){},"11b5":function(e,t,a){},1999:function(e,t,a){},"1b9e":function(e,t,a){"use strict";a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("87b3"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("262f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":e.opened,"after-leave":e.closed}},[e.visible?a("mi-popup",{on:{"popup-mask-click":e.clickMask}},[a("div",{ref:"J_MI_DIALOG",staticClass:"mi-dialog__wrapper",class:e.dialogClass,style:{width:e.width}},[a("div",{staticClass:"mi-dialog",attrs:{"aria-modal":"true"}},[[e.isHideHeader?e._e():a("div",{staticClass:"mi-dialog__header"},[a("span",{staticClass:"mi-dialog__title"},[e._v(e._s(e.title))])]),a("a",{staticClass:"mi-dialog__headerbtn",class:{"no-header":e.isHideHeader},on:{click:e.close}},[a("i",{staticClass:"mi-dialog__close iconfont"},[e._v("")])])],a("div",{staticClass:"mi-dialog__body",class:{"no-header":e.isHideHeader}},[a("div",{ref:"J_MI_DIALOG__BODY",staticClass:"mi-dialog__inner",attrs:{id:"J_aaa"}})]),"confirm"===e.type?a("div",{staticClass:"el-dialog__footer"},[a("button",{staticClass:"btn btn-primary",on:{click:e.ok}},[e._v(e._s(e.okText))]),a("button",{staticClass:"btn btn-gray",on:{click:e.close}},[e._v(e._s(e.cancelText))])]):e._e(),"alert"===e.type?a("div",{staticClass:"el-dialog__footer"},[a("button",{staticClass:"btn btn-primary",on:{click:e.close}},[e._v(e._s(e.okText))])]):e._e(),"confirmation"===e.type?a("div",{staticClass:"el-dialog__footer"},[a("button",{staticClass:"btn btn-primary",on:{click:e.ok}},[e._v(e._s(e.okText))]),a("button",{staticClass:"btn btn-gray",on:{click:e.cancel}},[e._v(e._s(e.cancelText))])]):e._e(),"verify"===e.type?a("div",{staticClass:"el-dialog__footer"},[a("button",{staticClass:"btn btn-primary",on:{click:e.ok}},[e._v(e._s(e.okText))])]):e._e()],2)])]):e._e()],1)},i=[],o=a("87aa"),s={name:"MiDialog",components:{MiPopup:o["a"]},data:function(){return{visible:!1,type:"plain",title:"",width:"800px",isHideHeader:!1,dialogClass:"",contentData:"",okText:"确定",cancelText:"取消"}},created:function(){},methods:{open:function(){this.visible=!0,this.$emit("open")},opened:function(e){this.$emit("opened",e)},close:function(e){this.visible=!1,this.$emit("close",e)},closed:function(){this.$emit("closed")},clickMask:function(){this.$emit("mi-popup-mask-click")},ok:function(e){this.$emit("ok",e)},cancel:function(e){this.$emit("cancel",e)}}},c=s,r=(a("d4c3"),a("2877")),u=Object(r["a"])(c,n,i,!1,null,"54b15c30",null),l=u.exports,d={},m=null;d.install=function(e){e.component(l.name,l);var t=new e(l).$mount();document.body.appendChild(t.$el),e.prototype.$dialog=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.type=a.type||"plain",t.title=a.title||"",t.dialogClass=a.dialogClass||"",t.isHideHeader=a.isHideHeader,t.contentData=a.contentData,t.width=a.width||"800px",t.cancelText=a.cancelText||"取消",t.okText=a.okText||"确定";var n=e.extend({name:"dia-content",template:'<div class="mi-dialog__inner">'.concat(a.content,"</div>"),data:function(){return t.$data},components:a.components||{}}),i=function(){t.$off("opened"),t.$off("closed"),t.$off("open"),t.$off("close"),t.$off("mi-popup-mask-click"),t.$off("ok"),t.$off("cancel"),m&&m.$destroy&&(m.$destroy(),m=null)},o=function(){i(),t.$on("opened",(function(){a.opened&&a.opened(m)})),t.$on("closed",(function(){a.closed&&a.closed()})),t.$on("open",(function(){a.open&&a.open()})),t.$on("close",(function(){a.close&&a.close(m)})),t.$on("mi-popup-mask-click",(function(){a.clickMask&&a.clickMask()})),t.$off("ok").$on("ok",(function(){a.ok&&a.ok(m)})),t.$off("cancel").$on("cancel",(function(){a.cancel&&a.cancel(m)})),t.open(),t.$nextTick((function(){m=(new n).$mount(t.$refs.J_MI_DIALOG__BODY)}))},s=function(){t.close()};return o(),{hide:s,show:o,destroy:i,open:o}}};var f=d,p=a("a026"),h=a("caf9"),_=a("a417"),v=a("efd9");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w=!1;function C(){var e=!(!document.all||window.atob);e&&(window.location.href=_["a"].host.wwwSite+"/updateBrowser/index.html")}function x(){if(!w){var e=a("5921"),t=a("4c6c"),n=t.Vue;e.init({dsn:{dsn:"https://207a4d2c0b4d43d19c40993ed2426c99@sentry.micloud.d.xiaomi.net/145",sourceMapVerson:"9e55d5b75781b15ec4f1995aba0f1e0d6d1ed086"}.dsn,integrations:[new n({Vue:p["a"],attachProps:!0})],logErrors:!0,release:{dsn:"https://207a4d2c0b4d43d19c40993ed2426c99@sentry.micloud.d.xiaomi.net/145",sourceMapVerson:"9e55d5b75781b15ec4f1995aba0f1e0d6d1ed086"}.sourceMapVerson,environment:"production"})}}function k(){"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var a=0;a<this.length;a++)e.call(t,this[a],a,this)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),a=t.length;while(--a>=0&&t.item(a)!==this);return a>-1})}function O(){C(),p["a"].use(f),p["a"].use(h["a"],{filter:{httpFormat:function(e,t){e.src&&(e.src=e.src.replace(/^http(s?):/i,""))}},attempt:1}),p["a"].mixin({methods:g({},v["a"])}),k(),x()}O()},"1bbb":function(e,t,a){},2112:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),_index_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ba6e"),_index_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__),_libs_base__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1b9e"),_views_common_miniHeader___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("8c30"),_views_common_footer___WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("31bc"),_comp_order_index_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("41b3"),_comp_cash_index_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("28e3"),_comp_payment_index_vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("7f1e"),_comp_install_index_vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("a35e"),_api_buy_confirm__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("8071"),_core_util_getUrlData_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("b38c"),vuex__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("2f62"),_store_index__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("4360"),_comp_verify_index_vue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("779e"),_api_base__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("a417");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach((function(t){_defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Array.prototype.indexValue=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t},new vue__WEBPACK_IMPORTED_MODULE_0__["a"]({components:{confirmOrder:_comp_order_index_vue__WEBPACK_IMPORTED_MODULE_5__["a"],confirmCash:_comp_cash_index_vue__WEBPACK_IMPORTED_MODULE_6__["a"],confirmPay:_comp_payment_index_vue__WEBPACK_IMPORTED_MODULE_7__["a"],confirmInstall:_comp_install_index_vue__WEBPACK_IMPORTED_MODULE_8__["a"],cashBox:_comp_verify_index_vue__WEBPACK_IMPORTED_MODULE_13__["a"]},data:function(){return{loading:!0,showCashDialog:!1,showCash:!0}},watch:{requestTime:function(e){e&&(this.loading=!1)}},computed:_objectSpread({},Object(vuex__WEBPACK_IMPORTED_MODULE_11__["c"])("buy_confirm",["cashAccount","requestTime","submitdata","pay"])),methods:{submitAjax:function(){var e=this,t=e.submitdata.isFenqi?e.submitdata.install_payOnlineBank:e.submitdata.selectedBank,a=e.submitdata.showAlipayCode,n=e.submitdata.showWeixinCode;return 1==e.submitdata.use_cash_account?!(!e.submitdata.cash_disabled&&!e.submitdata.check_cash_code)||(1==e.submitdata.cash_can_pay_all?e.showCashDialog=!0:t||a||n?e.showCashDialog=!0:e.showTips("请选择其他支付方式！"),!1):t?(0==e.submitdata.use_cash_account&&1==e.cashAccount.useCash&&(e.showCash=!1),!(!a&&!n)||void 0):(e.showTips("请选择支付方式"),!1)},submitFun:function submitFun(mode){var _this=this,isSelectedBank=_this.submitdata.isFenqi?_this.submitdata.install_payOnlineBank:_this.submitdata.selectedBank;_this.submitAjax(),_this.showCashDialog||_api_buy_confirm__WEBPACK_IMPORTED_MODULE_9__["a"].commit({order_id:_this.submitdata.order_id,pay_online_bank:isSelectedBank||"",use_cash_account:_this.submitdata.use_cash_account||0,installments:_this.submitdata.installments||0,pay_mode:mode||0,can_pay_all:_this.submitdata.can_pay_all||0}).then((function(res){if(200===res.code){var div="";document.getElementById("J_payTypeIframe")?(div=document.getElementById("J_payTypeIframe"),div.innerHTML=res.data.data):(div=document.createElement("div"),div.id="J_payTypeIframe",div.innerHTML=res.data.data,document.body.appendChild(div)),document.forms[0]?(1==mode?document.forms[0].setAttribute("target","alipayQrcodeIframe"):(document.forms[0].setAttribute("target","_blank"),_this.showPayTip()),document.forms[0].submit()):(div=document.createElement("div"),div.innerHTML=res.data.data,eval(div.childNodes[0].innerHTML))}else _this.showTips(res.msg||"网络出错，请稍后再尝试")}))},cashcallBack:function(){var e=this,t=e.submitdata.showAlipayCode,a=e.submitdata.showWeixinCode;e.showCashDialog=!1,setTimeout((function(){t?e.$refs.pay.paymentList("plat","alipay_qrcode",e.pay.alipayListKeys.indexValue("alipay_qrcode")):a?e.$refs.pay.paymentList("plat","weixin_native",e.pay.alipayListKeys.indexValue("weixin_native")):e.submitFun(0)}),500)},huabeiclick:function(){var e=this.pay.payMethodFromConfig.instalmentList,t=[];for(var a in e)t.push(a);this.$refs.install.tabSwitch("antinstal",t.indexValue("antinstal"))},showPayTip:function(){var e=this;e.showPayTipDialog=e.$dialog({title:"正在支付...",width:"496px",dialogClass:"modal-pay-tip",content:'<div class="modal-body"><div class="success"><h4>支付成功了</h4><p><a href="/user/orderView?order_id='+e.submitdata.order_id+'">立即查看订单详情 &gt;</a></p></div><div class="fail"><h4>如果支付失败</h4><p><a href="http://bbs.xiaomi.cn/thread/index/tid/11544653" target="_blank">查看支付常见问题 &gt;</a></p></div></div>'})},showTips:function(e,t){var a=this,n=e.replace(/[^\u4e00-\u9fa5|,]+/,"")||"系统异常，请稍后再试";a.showTipsDialog=a.$dialog({type:"alert",isHideHeader:!0,dialogClass:"modal-alert-pay",width:"500px",content:"<h3>"+n+"</h3>",closed:function(){"function"==typeof t&&t()}})}},mounted:function(){var e=this;this.footer=Object(_views_common_footer___WEBPACK_IMPORTED_MODULE_4__["default"])(this,this.$refs.J_siteFooter),this.header=Object(_views_common_miniHeader___WEBPACK_IMPORTED_MODULE_3__["default"])(this,this.$refs.J_siteHeader),_store_index__WEBPACK_IMPORTED_MODULE_12__["a"].dispatch("buy_confirm/getOrderList",{order_id:_core_util_getUrlData_js__WEBPACK_IMPORTED_MODULE_10__["a"].getParam("id")["id"]}).then((function(t){e.loading=!1,-60001===t.code?window.location.href=_api_base__WEBPACK_IMPORTED_MODULE_14__["a"].host.wwwSite+"/user/orderView?order_id="+e.submitdata.order_id:200===t.code&&t.data.order?_store_index__WEBPACK_IMPORTED_MODULE_12__["a"].commit("buy_confirm/BUY_COMFIRM",t.data||[]):e.showTips(res.msg||"网络出错，请稍后再尝试")}))},destroyed:function(){this.header.destroy(),this.footer.destroy()},store:_store_index__WEBPACK_IMPORTED_MODULE_12__["a"]}).$mount("#app")},"28e3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.cashAccount.canUseCashAccount||e.cashAccount.cashAccountFrozen?a("div",{staticClass:"confirm-cash",attrs:{id:"J_cash"}},[a("div",{staticClass:"section section-cash"},[a("div",{staticClass:"payment-box payment-box-last",attrs:{id:"J_balanceBox"}},[e._m(0),a("div",{staticClass:"payment-body"},[a("div",{staticClass:"cash-box clearfix",class:{"cash-pay-all":e.cashAccount.canUseCashAccountPayAll}},[a("input",{attrs:{id:"J_use_cash_account",type:"hidden",name:"use_cash_account"},domProps:{value:e.cashAccount.canUseCashAccount?0:1}}),a("div",{staticClass:"balance",class:{selected:e.cashData.cash_checked},attrs:{id:"J_useBalance"},on:{click:e.userBalance}},[e.cashAccount.canUseCashAccountPayAll?e._e():a("i",{staticClass:"iconfont"},[e._v("√")]),a("span",[e._v("可用余额：")]),a("span",{staticClass:"money"},[a("em",[e._v(e._s(e.cashAccount.data.canUseCashBalance))]),a("span",[e._v("元")])])]),e.cashAccount.canUseCashAccountPayAll?a("div",{staticClass:"surplus"},[e._v("使用账户余额支付："),a("span",{staticClass:"money"},[a("em",[e._v(e._s(e.cashAccount.need_pay_amount))]),a("span",[e._v("元")])]),a("a",{staticClass:"btn btn-primary",attrs:{id:"J_useCashPay",href:"javascript:void(0);"},on:{click:e.useCashPay}},[e._v("使用账户余额支付")])]):e._e(),a("input",{attrs:{id:"J_can_pay_all",type:"hidden",name:"can_pay_all"},domProps:{value:e.cashAccount.canUseCashAccountPayAll?1:0}})])])])])]):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payment-header clearfix"},[a("h3",{staticClass:"title"},[e._v("小米网现金账户：")]),a("span",{staticClass:"desc"},[e._v("（使用您小米网现金账户中的余额支付）")])])}],o=a("2f62"),s=a("4360");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l={name:"confirm-order",computed:r({},Object(o["c"])("buy_confirm",["cashAccount","submitdata"])),data:function(){return{cashData:{use_cash_account:0,cash_can_pay_all:0,cash_checked:!1,cash_disabled:!1,cash_pay_money:0}}},mounted:function(){this.cashData.cash_can_pay_all=this.cashAccount.canUseCashAccountPayAll?1:0,this.cashData.cash_checked=!this.cashAccount.canUseCashAccount,this.cashData.cash_disabled=!this.cashAccount.canUseCashAccount,s["a"].dispatch("buy_confirm/add_item",this.cashData)},methods:{userBalance:function(){if(1==this.submitdata.cash_disabled)return!1;this.cashData.cash_checked=!this.cashData.cash_checked,this.cashData.use_cash_account=this.cashData.cash_checked?1:0,this.cashData.cash_pay_money=this.cashData.cash_checked?this.cashAccount.data.canUseCashBalance:0,s["a"].dispatch("buy_confirm/add_item",this.cashData)},useCashPay:function(){this.cashData.cash_checked=!0,this.cashData.use_cash_account=1,this.cashData.cash_pay_money=this.cashAccount.need_pay_amount,s["a"].dispatch("buy_confirm/add_item",this.cashData),this.$parent.submitAjax()}},created:function(){window.addEventListener("beforeunload",this.clearSessionStorage)},destroyed:function(){window.removeEventListener("beforeunload",this.clearSessionStorage,!1)}},d=l,m=(a("0abc"),a("2877")),f=Object(m["a"])(d,n,i,!1,null,"6737df5a",null);t["a"]=f.exports},2907:function(e,t,a){"use strict";var n=function(e){return new Promise((function(t,a){var n=document.getElementsByTagName("body")[0],i=document.createElement("script");i.type="text/javascript",i.async="async",i.onreadystatechange=function(){"complete"==this.readyState&&t()},i.onload=function(){t()},a&&(i.onerror=function(){a()}),i.src=e,n.appendChild(i)}))},i=function(e){window.servertime?e(window.servertime):n("//time.hd.mi.com/gettimestamp").then((function(){window.servertime&&"number"===typeof window.servertime?(window.servertime=window.servertime,window.diffTime=window.servertime-parseInt((new Date).getTime()/1e3)):window.servertime=parseInt((new Date).getTime()/1e3),"function"===typeof e&&e(window.servertime)}),(function(){"function"===typeof e&&e(window.servertime),window.servertime=parseInt((new Date).getTime()/1e3)}))};t["a"]=i},"2ec8":function(e,t,a){"use strict";function n(e,t,a){if(arguments.length>1&&"[object Object]"!==String(t)){if(a=Object.assign({},a),null!==t&&void 0!==t||(a.expires=-1),"number"===typeof a.expires){var n=a.expires,i=a.expires=new Date;i.setDate(i.getDate()+n)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",a.raw?t:encodeURIComponent(t),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var o;a=t||{};var s=a.raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?s(o[1]):null}t["a"]=n},"2f0b":function(e,t,a){"use strict";var n=a("1bbb"),i=a.n(n);i.a},"31bc":function(e,t,a){"use strict";a.r(t);a("0999");var n=a("91bf"),i=a("7f19"),o=a("a417"),s={getPrice:function(e,t){return Object(i["a"])(o["a"].host.hdaSite+"/postfree/postfree",e,t)},getSafeAuth:function(e,t){return Object(i["a"])(o["a"].host.serviceApi+"/footer/safe_auth",e,t)}},c=a("2907"),r=a("0128"),u=a("9f77");function l(e){return f(e)||m(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function f(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}t["default"]=function(e,t){var a={Dom:{},objs:{},safeAuthTime:null,domEvtFuns:{weixinDialog:function(){e.$dialog({title:"小米手机官方微信二维码",width:"720px",dialogClass:"site-weixin-dia",content:'<img alt="" src="//i1.mifile.cn/f/i/17/site/weixin.jpg" width="680" height="340">'})},contactDialog:function(){var t=this.getAttribute("product_id"),a=this.getAttribute("gid"),n={pids:t,gids:a};e.showContact(n)},resetPrice:function(e,t){e>=t.data.start_time&&e<=t.data.end_time&&(a.Dom.$footerPrice.innerHTML="满".concat(t.data.price,"包邮").concat(t.data.cart_info?t.data.cart_info:""))},getPrice:function(){s.getPrice().then((function(e){e&&0===e.code&&e.data&&Object(c["a"])((function(t){a.domEvtFuns.resetPrice(t,e)}))}))}}},i=function(){if(!t)throw"args el is needed."},o=function(){a.Dom.$weixin=t.querySelector("#J_siteWeixinCode"),a.Dom.$weixinSub=document.querySelectorAll('[data-show-weixin="true"]'),a.Dom.$weixinDom=t.querySelector("#J_followWx"),a.Dom.$weixinImg=t.querySelector("#J_followWxImg"),a.Dom.$contactBtn=document.getElementsByClassName("J_contactBtn"),a.Dom.$footerPrice=document.getElementById("J_footerPrice"),a.Dom.$footerPrice&&a.domEvtFuns.getPrice()},d=function(){s.getSafeAuth().then((function(e){if(e&&200===e.code&&e.data){var t=e.data;if(a.Dom.$footer=document.getElementsByClassName("site-info"),a.Dom.$footer&&a.Dom.$footer.length>0&&(a.Dom.$linksBox=a.Dom.$footer[0].getElementsByClassName("info-links"),a.Dom.$linksBox&&a.Dom.$linksBox.length>0)){var n='<a rel="nofollow" href="'.concat(t.click_url?t.click_url:"javascript:void(0)",'" class="safe-auth J_safeAuth"><img rel="nofollow" src="').concat(t.first_image,'" class="img1"><img rel="nofollow" src="').concat(t.second_image,'" class="img2"></a>');a.Dom.$linksBox[0].innerHTML+=n;var i=a.Dom.$footer[0].getElementsByClassName("J_safeAuth")[0],o=1;a.safeAuthTime=setInterval((function(){o++,o%2==0?Object(r["a"])(i,"active"):Object(u["a"])(i,"active")}),3e3)}}}))},m=function(){n["a"].addEvt(a.Dom.$weixin,"click",a.domEvtFuns.weixinDialog),l(a.Dom.$weixinSub).length&&l(a.Dom.$weixinSub).forEach((function(e){n["a"].addEvt(e,"click",a.domEvtFuns.weixinDialog)})),n["a"].addEvt(a.Dom.$weixinDom,"click",(function(){a.Dom.$weixinImg.style.display="block"})),n["a"].addEvt(a.Dom.$weixinDom,"mouseenter",(function(){a.Dom.$weixinImg.style.display="block"})),n["a"].addEvt(a.Dom.$weixinDom,"mouseleave",(function(){a.Dom.$weixinImg.style.display="none"})),l(a.Dom.$contactBtn).length&&l(a.Dom.$contactBtn).forEach((function(e){n["a"].addEvt(e,"click",a.domEvtFuns.contactDialog)}))},f=function(){if(a){for(var e in a.safeAuthTime&&clearInterval(a.safeAuthTime),a.objs){var t=a.objs[e];t&&t.destroy&&t.destroy()}a=null}},p=function(){i(),o(),d(),m()};return p(),{destroy:f}}},"3bf3":function(e,t,a){},"41b3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"confirm-order"},[e.bankNotice.length>0?[a("div",{staticClass:"notice",attrs:{id:"J_notice"}},[a("i",{staticClass:"icon"}),a("span",{staticClass:"close"},[a("i",{staticClass:"iconfont",on:{click:e.closeNotice}},[e._v("")])]),e._l(e.bankNotice,(function(t,n){return t.end_time>=e.requestTime&&t.start_time<=e.requestTime?[t.content?a("p",[t.content?a("span",[e._v("    "+e._s(t.content)+"     ")]):e._e(),t.url?a("a",{attrs:{href:t.url,target:"_blank"}},[e._v("了解详情>")]):e._e()]):e._e()]:e._e()}))],2)]:e._e(),a("div",{staticClass:"section section-order"},[a("div",{staticClass:"order-info clearfix"},[e.order.booking_info?[a("div",{staticClass:"fl"},[3===e.order.booking_info.pre_status?a("h2",{staticClass:"title order-time"},[e._v(" 预付款："),a("span",{staticClass:"pay-time-tip"},[e._v(e._s(e.order.booking_info.pre_price)+" 元")])]):3===e.order.booking_info.final_status?a("h2",{staticClass:"title order-time"},[e._v("尾款："),a("span",{staticClass:"pay-time-tip"},[e._v(e._s(parseFloat(e.order.trades[2].trade_amount-e.order.trades[2].cash_account_amount-e.order.trades[2].ecard_amount))+" 元")])]):e._e(),a("p",{staticClass:"order-time"},[e.order.ttl&&e.leftTime<259200&&e.hour>=0&&e.min>=0?a("span",[e._v("请在"),a("span",{staticClass:"pay-time-tip"},[e._v(e._s(e.hour)+" 小时 "+e._s(e.min)+" 分")]),a("span",[e._v("内完成支付, 超时后将取消订单")])]):e._e()]),a("p",{staticClass:"post-info"},[e._v("收货信息："+e._s(e.order.consignee)+" "+e._s(e._f("formatePhone")(e.order.tel))+" "+e._s(e.order.province.name)+" "+e._s(e.order.city.name)+" "+e._s(e.order.district.name)+" "+e._s(e.order.area.name)+" "+e._s(e.order.address))])]),a("div",{staticClass:"fr"},[a("p",{staticClass:"total"}),a("a",{staticClass:"show-detail",attrs:{href:"javascript:void(0);"},on:{click:function(t){return t.preventDefault(),e.showOrderDetail(t)}}},[e._v("订单详情"),a("i",{staticClass:"iconfont"},[e._v("")])])])]:[a("div",{staticClass:"fl"},[a("h2",{staticClass:"title"},[e._v("订单提交成功！去付款咯～")]),e.order.est_is_show?a("p",{staticClass:"order-time",attrs:{id:"J_deliverDesc"}},[e._v(e._s(e.order.est_delivery_desc))]):e._e(),a("p",{staticClass:"order-time"},[e.order.tag&&e.order.tag.indexOf("tv")?a("span",[e._v("签收须知：请您与快递一起当面拆箱通电验货"),a("br")]):e._e(),e.order.ttl&&e.leftTime<259200&&e.hour>=0&&e.min>=0?a("span",[e._v("请在"),a("span",{staticClass:"pay-time-tip"},[e._v(e._s(e.hour)+" 小时 "+e._s(e.min)+" 分")]),a("span",[e._v("内完成支付, 超时后将取消订单")])]):e._e()]),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.showDetail,expression:"!showDetail"}],staticClass:"post-info"},[e._v("收货信息："+e._s(e.order.consignee)+" "+e._s(e._f("formatePhone")(e.order.tel))+" "+e._s(e.order.province.name)+" "+e._s(e.order.city.name)+" "+e._s(e.order.district.name)+" "+e._s(e.order.area.name)+" "+e._s(e.order.address))])]),a("div",{staticClass:"fr"},[a("div",{staticClass:"total"},[e._v("应付总额："),a("span",{staticClass:"money"},[a("em",[e._v(e._s(e.order.need_pay_amount))]),a("span",[e._v("元")])])]),a("a",{staticClass:"show-detail",attrs:{href:"javascript:void(0);"},on:{click:function(t){return t.preventDefault(),e.showOrderDetail(t)}}},[e._v("订单详情"),a("i",{staticClass:"iconfont"},[e._v("")])])])]],2),a("i",{staticClass:"iconfont icon-right"},[e._v("√")]),a("div",{staticClass:"order-detail J_showOrderDetail",style:{height:e.showscrollHeight}},[a("ul",[a("li",{staticClass:"clearfix"},[a("div",{staticClass:"label"},[e._v(" 订单号：")]),a("div",{staticClass:"content"},[a("span",{staticClass:"order-num"},[e._v(e._s(e.order.order_id))])])]),a("li",{staticClass:"clearfix"},[a("div",{staticClass:"label"},[e._v(" 收货信息：")]),a("div",{staticClass:"content"},[e._v(e._s(e.order.consignee)+" "+e._s(e._f("formatePhone")(e.order.tel))+" "+e._s(e.order.province.name)+" "+e._s(e.order.city.name)+" "+e._s(e.order.district.name)+" "+e._s(e.order.area.name)+" "+e._s(e.order.address))])]),a("li",{staticClass:"clearfix"},[a("div",{staticClass:"label"},[e._v(" 商品名称：")]),a("div",{staticClass:"content"},e._l(e.order.product,(function(t){return a("span",[e._v(e._s(t.desc.name))])})),0)]),a("li",{staticClass:"clearfix hide"},[a("div",{staticClass:"label"},[e._v(" 配送时间：")]),a("div",{staticClass:"content"},[e._v(e._s(e.order.best_time))])]),a("li",{staticClass:"clearfix"},[a("div",{staticClass:"label"},[e._v(" 发票信息：")]),a("div",{staticClass:"content"},[e._v(e._s(e.order.invoice_type_name)+" "+e._s(e.order.invoice_title))])])])])])],2)},i=[],o=a("2f62"),s=a("8071");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l={name:"confirm-order",data:function(){return{bankNotice:!1,showDetail:!1,showscrollHeight:null}},filters:{formatePhone:function(e){return e?e.substr(0,3)+"****"+e.substr(7):""}},computed:r({},Object(o["c"])("buy_confirm",["order","requestTime"]),{leftTime:function(){return this.order.ttl-this.requestTime},hour:function(){return parseInt((this.order.ttl-this.requestTime)/3600)},min:function(){return parseInt((this.order.ttl-this.requestTime-3600*parseInt((this.order.ttl-this.requestTime)/3600))/60)}}),mounted:function(){var e=this;s["a"].getBankNotice({}).then((function(t){200===t.code&&(e.bankNotice=t.data.list)}))},methods:{closeNotice:function(){this.bankNotice=!1},showOrderDetail:function(){this.showDetail=!this.showDetail,this.showscrollHeight=this.showDetail?document.querySelector(".J_showOrderDetail").scrollHeight+"px":0}}},d=l,m=(a("a701"),a("2877")),f=Object(m["a"])(d,n,i,!1,null,"6d77ed2a",null);t["a"]=f.exports},4360:function(e,t,a){"use strict";var n=a("a026"),i=a("2f62"),o=a("9fb0");function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}new n["a"];var c={bar:"1",list:[]},r={bar:function(e){return parseInt(e.bar)+1},iList:function(e){return e.list.map((function(e){return e.id=e.id+1,e.name="item_"+e.name,e}))}},u={setTest:function(e,t){var a=e.commit;a(o["f"],t)}},l=s({},o["f"],(function(e,t){e.bar=t.status,e.list=t.data.data})),d={namespaced:!0,state:c,getters:r,actions:u,mutations:l};function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}new n["a"];var f,p={bar:"1",list:[]},h={bar:function(e){return parseInt(e.bar)+1},iList:function(e){return e.list.map((function(e){return e.id=e.id+1,e.name="item_"+e.name,e}))}},_={setTest:function(e,t){var a=e.commit;a(o["f"],t)}},v=m({},o["f"],(function(e,t){e.bar=t.status,e.list=t.data.data})),b={namespaced:!0,state:p,getters:h,actions:_,mutations:v},g=a("a34a"),y=a.n(g),w=a("8071");function C(e,t,a,n,i,o,s){try{var c=e[o](s),r=c.value}catch(u){return void a(u)}c.done?t(r):Promise.resolve(r).then(n,i)}function x(e){return function(){var t=this,a=arguments;return new Promise((function(n,i){var o=e.apply(t,a);function s(e){C(o,n,i,s,c,"next",e)}function c(e){C(o,n,i,s,c,"throw",e)}s(void 0)}))}}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var O,D={request_time:0,submitData:{use_cash_account:0,cash_checked:!1,check_cash_code:!1},cashAccount:k({data:{},canUseCashAccount:!1,cashAccountFrozen:!1,canUseCashAccountPayAll:!1,useOtherBankPayLeft:!1,useCash:!0},"useOtherBankPayLeft",0),pay:{alipayListKeys:[],plat:{},payList:null,instalmentListKeyValue:[],payMethodActivityTips:null,bankDirectList:null,quickPayList:null,payMethodFromConfig:{alipayList:{},instalmentList:{}}},order:{}},P={cashAccount:function(e){return e.cashAccount},order:function(e){return e.order},pay:function(e){return e.pay},requestTime:function(e){return e.request_time},submitdata:function(e){return e.submitData}},A={getOrderList:function(){var e=x(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(o["d"],{order_id:a.order_id}),e.abrupt("return",w["a"].getBankList(a));case 3:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),getpayMethod:function(){var e=x(y.a.mark((function e(t,a){return y.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.abrupt("return",w["a"].getPayPlat(a));case 2:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),checksmsCode:function(){var e=x(y.a.mark((function e(t,a){return y.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.abrupt("return",w["a"].sendcashaccountsms(a));case 2:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),add_item:function(e,t){var a=e.commit;a(o["d"],t)}},E=(f={},k(f,o["c"],(function(e,t){e.request_time=t.request_time,e.cashAccount.data=t.cashAccount,e.order=t.order,e.cashAccount.canUseCashAccount=t.cashAccount.canUseCashAccount&&t.cashAccount.balance>0,e.cashAccount.cashAccountFrozen=!t.cashAccount.canUseCashAccount&&t.cashAccount.frozenBalance>0,e.cashAccount.canUseCashAccountPayAll=e.cashAccount.canUseCashAccount&&!e.cashAccount.cashAccountFrozen&&parseFloat(t.order.need_pay_amount)<=parseFloat(t.cashAccount.canUseCashBalance),e.cashAccount.useOtherBankPayLeft=t.cashAccount.needPayOnline,e.cashAccount.useCash=e.cashAccount.canUseCashAccount||e.cashAccount.cashAccountFrozen,e.cashAccount.need_pay_amount=t.order.need_pay_amount,e.cashAccount.useOtherBankPayLeft=t.cashAccount.needPayOnline,e.instalmentList=t.instalmentList,t.paymentList.forEach((function(t,a){e.pay.alipayListKeys.push(t.bank)})),t.instalmentList.forEach((function(t,a){e.pay.instalmentListKeyValue.push(t.Bank)})),e.pay.bankDirectList=t.bankDirectList,e.pay.quickPayList=t.quickPayList})),k(f,o["d"],(function(e,t){e.submitData=Object.assign(e.submitData,t)})),k(f,o["e"],(function(e,t){e.pay.plat=t;var a=["alipay_qrcode","weixin_native"];t.forEach((function(t,n){var i=!1,o=!1;if(t.name&&t.pay_img){a.indexOf(t.name)>=0||e.pay.alipayListKeys.indexOf(t.name)>=0?i=!0:e.pay.instalmentListKeyValue.indexOf(t.name)>=0&&(o=!0);var s=[{image:t.pay_img,title:t.name}];if(t.tip){if(e.request_time>t.tip.end&&e.request_time<t.tip.start)return!0;if("小米金融分期推广"===t.tip.pay_name&&e.order.need_pay_amount<=300||e.order.need_pay_amount>=3e4)return!0;t.tip.rule_content&&(e.pay.payMethodActivityTips=t.tip.rule_content),s["hd_data"]=t.tip}s.hd_data&&""!=t.tip.img?s.image=t.tip.img:s.image=t.pay_img,i?e.pay.payMethodFromConfig.alipayList[t.name]=s:o&&e.instalmentList.forEach((function(a){a.Bank==t.name&&(s["detail"]=a.Detail,e.pay.payMethodFromConfig.instalmentList[t.name]=s)}))}}))})),f),j={namespaced:!0,state:D,getters:P,actions:A,mutations:E};function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}n["a"].use(i["a"]);var M={open:{},active:[]},T={open:function(e){return e.open},menu:function(){return M.menu}},I=(O={},S(O,o["g"],(function(e,t){e.open=t.open})),S(O,o["a"],(function(e,t){e.active=t})),O),L={namespaced:!0,state:M,getters:T,mutations:I};n["a"].use(i["a"]);t["a"]=new i["a"].Store({modules:{test:d,exchange:b,buy_confirm:j,aptitude:L}})},4485:function(e,t,a){},"4b1a":function(e,t,a){"use strict";var n=a("fe4b"),i=a.n(n);i.a},"4f6a":function(e,t,a){"use strict";var n=a("9b19"),i=a.n(n);i.a},"59ff":function(e,t,a){"use strict";var n=a("8640"),i=a.n(n);i.a},"6c39":function(e,t,a){"use strict";var n=a("aaa1"),i=a.n(n);i.a},"751a":function(e,t,a){"use strict";var n=a("bc3a"),i=a.n(n),o=a("a417"),s=/^mock\./.test(window.location.host),c=!0,r=function(e,t){switch(e){case 404:break;default:}},u=i.a.create({timeout:1e4});u.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",u.defaults["withCredentials"]=!s;var l=function(e){var t=e.split("?");if(!t||t.length<=1)return e;var a=t[1].split("&"),n="";return a.map((function(e){var t=e.split("=");"needLogin"==t[0]?c=t[1]:n+=t[0]+"="+t[1]})),t[0]+(n?"?"+n:n)};u.interceptors.request.use((function(e){return c=!e.params||0!=e.params.needLogin||e.params.needLogin,e.url=l(e.url),e}),(function(e){return Promise.reject(e)})),u.interceptors.response.use((function(e){return 200!==e.status?Promise.reject(e.data):e.data&&-1e4===e.data.code&&c?void(window.location.href=o["a"].host.orderLogin):Promise.resolve(e.data)}),(function(e){var t=e.response;t&&r(t.status,t.data.desc)})),t["a"]=u},"779e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},i=[],o=a("8071"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-balance-pay"},[a("div",{staticClass:"content"},[a("p",[e._v(" 为了确保您的购物安全"),a("br"),e._v("已向您当前的联系电话 "),a("span",[e._v(e._s(e.tel))]),e._v(" 发送验证码")]),a("input-box",{attrs:{name:"code",label:"输入验证码",id:"verifycode"},on:{input:e.setCode}}),e.flag?a("span",{staticClass:"btn btn-block btn-primary",on:{click:e.sendAgain}},[e._v("重新获取验证码!")]):a("span",{staticClass:"btn btn-block"},[e._v(e._s(e.seconds)+" 秒后可重新获取")]),a("div",{staticClass:"tip"},[e._v(e._s(e.tips))])],1)])},c=[],r=a("c2ac"),u=a("4360"),l={name:"cash-box",props:{tel:0},components:{inputBox:r["a"]},data:function(){return{canSubmit:!0,code:null,flag:!1,seconds:60,tips:""}},watch:{seconds:function(e){this.flag=!(e>0)}},mounted:function(){this.sendMsg()},methods:{sendMsg:function(){var e=this;o["a"].sendcashaccountsms({pay_money:u["a"].state.buy_confirm.submitData.cash_pay_money||0,order_id:u["a"].state.buy_confirm.submitData.order_id,type:0}).then((function(t){200==t.code?(e.countDown(),e.tips="验证码已发送成功，请查收!"):e.tips=t.msg||"网络繁忙，请重试"}),(function(){e.tips=res.msg||"网络繁忙，请重试"}))},countDown:function(){var e=this,t=null;t=setInterval((function(){e.seconds>1?e.seconds-=1:(e.seconds=0,e.tips="",clearInterval(t))}),1e3)},setCode:function(e){this.code=e.value},sendAgain:function(){this.flag=!1,this.seconds=60,this.sendMsg()},submitCode:function(){var e=this;e.code?u["a"].dispatch("buy_confirm/checksmsCode",{order_id:u["a"].state.buy_confirm.submitData.order_id,type:1,code:e.code}).then((function(t){200===t.code&&t.data?u["a"].commit("buy_confirm/BUY_COMFIRM_ADDITEM",{check_cash_code:!0}||[]):e.tips=t.msg||"网络繁忙，请重试"})):e.tips="请输入验证码"}},created:function(){}},d=l,m=(a("a735"),a("2877")),f=Object(m["a"])(d,s,c,!1,null,"8883f682",null),p=f.exports,h=(a("2f62"),{name:"cash-verify",components:{cashBox:p},watch:{},computed:{checkcode:function(){return u["a"].state.buy_confirm.submitData.check_cash_code}},data:function(){return{flag:!1}},mounted:function(){var e=this,t=this;o["a"].cashCheck({}).then((function(a){a&&200==a.code?(e.cashTel=a.data.tel.substr(0,3)+"****"+a.data.tel.substr(7),t.cashCheckdialog=t.$dialog({title:"现金账户安全验证",type:"confirm",width:"500px",dialogClass:"modal-balance-pay",contentData:{tel:t.cashTel},components:{cashBox:p},content:'<cash-box :tel="contentData.tel" ref="comfirm"></cash-box>',ok:function(e){e.$refs.comfirm.submitCode(),setTimeout((function(){1==t.checkcode&&t.submit(e)}),500)},closed:function(){t.$parent.showCashDialog=!1}})):t.$parent.showTips(a.msg)}))},methods:{submit:function(e){e.visible=!1,u["a"].dispatch("buy_confirm/add_item",{cash_disabled:!0,cash_checked:!0}),this.$parent.cashcallBack()}},destroyed:function(){},created:function(){}}),_=h,v=(a("4f6a"),Object(m["a"])(_,n,i,!1,null,"f9efec14",null));t["a"]=v.exports},"7f19":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("f2e8"),i=a.n(n),o=a("a417");function s(e,t,a){e+=(e.indexOf("?")<0?"?":"&")+c(t);var n={needLogin:!0,timeout:6e4};return n=Object.assign({},n,a),new Promise((function(t,a){i()(e,n,(function(e,i){e?a(e):i&&-1e4===i.code&&n.needLogin?window.location.href=o["a"].host.orderLogin:t(i)}))}))}function c(e){var t="";for(var a in e){var n=void 0!==e[a]?e[a]:"";t+="&"+a+"="+encodeURIComponent(n)}return t?t.substring(1):""}},"7f1e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?a("div",{staticClass:"confirm-pay"},[a("div",{staticClass:"section section-payment"},[a("div",{staticClass:"cash-title",class:"1"==e.submitdata.use_cash_account?"cash-title-selected":""},[e.cashAccount.canUseCashAccount||e.cashAccount.cashAccountFrozen?e.cashAccount.canUseCashAccountPayAll?a("div",[e._v("您还可以选择以下支付方式付款")]):e.cashAccount.cashAccountFrozen?a("div",[e._v("您还需要选择以下支付方式支付"),a("span",{staticClass:"money"},[a("em",[e._v(e._s(e.cashAccount.useOtherBankPayLeft))]),a("span",[e._v("元")])])]):a("div",[a("p",{staticClass:"no-selected"},[e._v("您还可以选择以下支付方式付款")]),a("p",{staticClass:"is-selected"},[e._v("您还需要选择以下支付方式支付"),a("span",{staticClass:"money"},[a("em",[e._v(e._s(e.cashAccount.useOtherBankPayLeft))]),a("span",[e._v("元")])])])]):a("div",[e._v("选择以下支付方式付款")])]),Object.keys(e.pay.payMethodFromConfig.alipayList).length>0?a("div",{staticClass:"payment-box"},[e._m(0),a("div",{staticClass:"payment-body"},[a("ul",{staticClass:"clearfix payment-list J_paymentList"},e._l(e.pay.payMethodFromConfig.alipayList,(function(t,n,i){return a("li",{staticClass:"J_bank",class:e.activeIndex["plat"]==i?"selected":"",attrs:{alt:n,type:n},on:{click:function(t){return e.paymentList("plat",n,i)}}},["alipay"==n&&e.pay.payMethodFromConfig["instalmentList"]["antinstal"]&&e.requestTime<1491753599&&e.requestTime>1491408e3?a("img",{attrs:{src:"//c1.mifile.cn/f/i/15/pay/huabei1215.png"}}):a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.image,expression:"item.image"}]})])})),0),e.pay.payMethodActivityTips?a("div",{staticClass:"event-desc"},[a("p",[e._v(e._s(e.pay.payMethodActivityTips))]),a("a",{staticClass:"more",attrs:{href:"//www.mi.com/c/payrule/",target:"_blank"}},[e._v("了解更多>")])]):e._e()])]):e._e(),e.pay&&e.pay.bankDirectList&&e.pay.bankDirectList.length>0?a("div",{staticClass:"payment-box"},[e._m(1),a("div",{staticClass:"payment-box"},[a("ul",{staticClass:"clearfix payment-list payment-list-much J_paymentList"},[e._l(e.pay.bankDirectList,(function(t,n){return a("li",{staticClass:"J_bank",class:{hide:e.isShowMore&&n>10,selected:!(e.activeIndex["bank"]!=n)},attrs:{alt:t.name,type:t.bank},on:{click:function(a){return a.stopPropagation(),e.paymentList("bank",t.bank,n)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"//s01.mifile.cn/i/banklogo/"+t.name.split(".")[0]+".png",expression:"'//s01.mifile.cn/i/banklogo/' + item.name.split('.')[0] + '.png'"}]})])})),a("li",{on:{click:e.isShowMoreFun}},[a("span",{staticClass:"text",domProps:{innerHTML:e._s(e.isShowMore?"查看更多":"收起更多")}})])],2)])]):e._e(),e.pay&&e.pay.quickPayList&&e.pay.quickPayList.length>0?a("div",{staticClass:"payment-box payment-box-last"},[e._m(2),a("div",{staticClass:"payment-box"},[a("ul",{staticClass:"clearfix payment-list payment-list-much J_paymentList"},e._l(e.pay.quickPayList,(function(t,n){return a("li",{staticClass:"J_bank",class:e.activeIndex["quick"]==n?"selected":"",attrs:{alt:t.name,type:t.bank},on:{click:function(a){return a.stopPropagation(),e.paymentList("quick",t.bank,n)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"//s01.mifile.cn/i/banklogo/"+t.name.split(".")[0]+".png",expression:"'//s01.mifile.cn/i/banklogo/' + item.name.split('.')[0] + '.png'"}]})])})),0)])]):e._e()]),a("weixin",{ref:"weixin_pay"}),a("alipay",{ref:"alipay_pay"})],1):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payment-header clearfix"},[a("h3",{staticClass:"title"},[e._v("支付平台")]),a("span",{staticClass:"desc"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payment-header clearfix"},[a("h3",{staticClass:"title"},[e._v("银行借记卡及信用卡")]),a("span",{staticClass:"desc"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payment-header clearfix"},[a("h3",{staticClass:"title"},[e._v("快捷支付")]),a("span",{staticClass:"desc"},[e._v("（支持以下各银行信用卡以及部分银行借记卡）")])])}],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},s=[],c=a("4360"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weixin-content"},[a("div",{ref:"J_weixinPay",staticClass:"weixin-modal-content"},[a("div",{staticClass:"code"},[e.qrcode?a("img",{attrs:{src:e.qrcode},on:{mouseenter:e.mouseenterEvt,mouseleave:e.mouseLeaveEvt}}):a("div",{staticClass:"loading"},[a("div",{staticClass:"loader"})])]),e._m(0)]),a("div",{staticClass:"example",class:{"show-active":e.mouseEvt}})])},u=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"msg"},[e._v("请使用 "),a("span",[e._v("微信")]),e._v("\t扫一扫 "),a("br"),e._v(" 二维码完成支付")])}],l=a("8071"),d=a("a417"),m={name:"weixin-box",props:{data:null},data:function(){return{weixinPayDialog:"",loading:!1,qrcode:"",baseData:{},mouseEvt:!1}},mounted:function(){this.baseData=c["a"].state.buy_confirm.submitData,this.getWeixinQrCode()},methods:{mouseenterEvt:function(){this.mouseEvt=!0},mouseLeaveEvt:function(){this.mouseEvt=!1},getWeixinQrCode:function(){var e=this;e.loading=!1,l["a"].getWeixinQrCode({order_id:e.baseData.order_id,use_cash_account:e.baseData.use_cash_account||0}).then((function(t){200==t.code&&t.data&&(e.loading=!0,e.qrcode=t.data,e.getWeixinPayStatus(5e3))}))},getWeixinPayStatus:function(e){var t=this,a=function a(){l["a"].getPayStatus({order_id:t.baseData.order_id}).then((function(n){if(n&&200==n.code){if(window.getWeixinPayTimer&&clearTimeout(window.getWeixinPayTimer),"4"==n.data.order_status||n.data.booking_info&&n.data.order_status_info.next.indexOf("WAIT_FINAL_MONEY")>=0&&"90"==n.data.order_status)return void(location.href=d["a"].host.wwwSite+"/buy/paysuccess?order_id="+t.baseData.order_id);window.getWeixinPayTimer=setTimeout(a,e)}else t.weixinPayDialog.hide()}))};setTimeout(a,e)}}},f=m,p=(a("6c39"),a("2877")),h=Object(p["a"])(f,r,u,!1,null,null,null),_=h.exports,v={name:"confirm-weixin-pay",components:{wxBox:_},data:function(){return{weixinPayDialog:"",baseData:{}}},mounted:function(){this.baseData=c["a"].state.buy_confirm.submitData},methods:{getWeiXinPay:function(){var e=this.baseData.use_cash_account,t=this.baseData.check_cash_code,a=this.baseData.cash_disabled;if(1==e&&!t&&!0!==a)return this.$parent.$parent.submitFun(0),!1;1!==e&&(this.$parent.$parent.showCash=!1),this.showWeixinPay()},showWeixinPay:function(){var e=this;e.weixinPayDialog=e.$dialog({title:"微信支付",width:"370px",dialogClass:"modal-weixin-pay",components:{wxBox:_},content:"<wx-box></wx-box>"})},hideWeixinPlay:function(){this.weixinPayDialog.hide()}}},b=v,g=(a("c5b48"),Object(p["a"])(b,o,s,!1,null,null,null)),y=g.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},C=[],x={name:"confirm-alipay-pay",data:function(){return{alipayDialog:null}},mounted:function(){this.baseData=c["a"].state.buy_confirm.submitData},methods:{getAliPay:function(){var e=this.baseData.use_cash_account,t=this.baseData.check_cash_code,a=this.baseData.cash_disabled;if(1==e&&!t&&!0!==a)return this.$parent.$parent.submitFun(0),!1;1!==e&&(this.$parent.$parent.showCash=!1),this.showAliPay(),this.$parent.$parent.submitFun(1)},showAliPay:function(){var e=this;e.alipayDialog=e.$dialog({type:"alert",isHideHeader:!0,width:"500px",dialogClass:"modal-alipay-pay",content:'<iframe name="alipayQrcodeIframe" scrolling="no" frameborder="0" width="100%" height="100%"></iframe>'})}}},k=x,O=(a("b0b8"),Object(p["a"])(k,w,C,!1,null,null,null)),D=O.exports,P=a("2f62");function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var S={name:"confirm-pay",computed:E({},Object(P["c"])("buy_confirm",["cashAccount","submitdata","pay","requestTime"])),watch:{"pay.plat":{handler:function(){this.loading=!0},deep:!0}},components:{weixin:y,alipay:D},data:function(){return{loading:!1,isShowMore:!0,activeIndex:[],selectedBank:!1}},mounted:function(){c["a"].dispatch("buy_confirm/getpayMethod").then((function(e){200===e.code?c["a"].commit("buy_confirm/BUY_COMFIRM_PAY",e.data||[]):_this.$parent.showTips(res.msg||"网络出错，请稍后再尝试")}))},methods:{isShowMoreFun:function(){this.isShowMore=!this.isShowMore},paymentList:function(e,t,a){switch(this.activeIndex=[],this.activeIndex[e]=a,this.selectedBank=t,c["a"].dispatch("buy_confirm/add_item",{install_payOnlineBank:null,installments:0,showWeixinCode:!1,showAlipayCode:!1,selectedBank:t,isFenqi:!1}),t){case"huabei":document.querySelector(".confirm-install").scrollIntoView({block:"start",behavior:"smooth"}),this.$parent.huabeiclick();break;case"weixin_native":this.$refs.weixin_pay.getWeiXinPay(),c["a"].dispatch("buy_confirm/add_item",{showWeixinCode:!0});break;case"alipay_qrcode":this.$refs.alipay_pay.getAliPay(),c["a"].dispatch("buy_confirm/add_item",{showAlipayCode:!0});break;default:this.$parent.submitFun(0)}}}},M=S,T=(a("59ff"),Object(p["a"])(M,n,i,!1,null,null,null));t["a"]=T.exports},8071:function(e,t,a){"use strict";var n=a("a417"),i=a("751a"),o=a("7f19"),s=a("849f"),c={getBankNotice:function(e,t){return Object(o["a"])("".concat(n["a"].host.orderApi,"/pay/banknotice"),e,t)},getBankList:function(e,t){return Object(o["a"])("".concat(n["a"].host.orderApi,"/pay/banklistafter"),e,t)},commit:function(e,t){return i["a"].post("".concat(n["a"].host.orderApi,"/pay/paycommit"),Object(s["a"])(e))},getWeixinQrCode:function(e,t){return Object(o["a"])("".concat(n["a"].host.orderApi,"/pay/wechatqrcode"),e,t)},getPayStatus:function(e,t){return Object(o["a"])("".concat(n["a"].host.orderApi,"/pay/getpaystatus"),e,t)},getPayPlat:function(e,t){return Object(o["a"])("".concat(n["a"].host.orderApi,"/pay/list"),e,t)},sendcashaccountsms:function(e,t){return i["a"].post("".concat(n["a"].host.orderApi,"/pay/accountvcode"),Object(s["a"])(e))},cashCheck:function(e,t){return Object(o["a"])("".concat(n["a"].host.orderApi,"/cash_account/check"),e,t)}};t["a"]=c},"849f":function(e,t,a){"use strict";var n=function(e){var t="";for(var a in e)t+=a+"="+e[a]+"&";return t.substring(0,t.length-1)};t["a"]=n},8640:function(e,t,a){},"87aa":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("div",{staticClass:"mi-popup",style:{"z-index":e.zIndex}},[a("transition",{attrs:{name:"mi-modal"}},[e.mask?a("div",{staticClass:"mi-popup__mask mi-modal",on:{click:function(t){return t.stopPropagation(),e.clickMask(t)}}}):e._e()]),a("div",{staticClass:"mi-popup__box"},[a("div",{staticClass:"mi-popup__content"},[e._t("default")],2)])],1):e._e()},i=[],o={name:"MiPopup",props:{mask:{type:Boolean,default:!0},zIndex:{type:Number,default:100}},data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1},clickMask:function(){this.$emit("popup-mask-click")}},mounted:function(){this.show()}},s=o,c=(a("2f0b"),a("2877")),r=Object(c["a"])(s,n,i,!1,null,"f6440f00",null);t["a"]=r.exports},8854:function(e,t,a){"use strict";a("0542");var n=a("91bf"),i=a("a417"),o=a("fe6a"),s=a("2ec8"),c=(a("c474"),function(){var e={loopSpeed:8e3,initDelay:3e3,loopTimer:null,login:!1,messageTotal:0,loopCount:0,uid:"",popShow:!1,Dom:{},objs:{},domEvtFuns:{},msgInit:function(t){var a=document.querySelector(".site-mini-header");e.login=t,e.uid=Object(s["a"])("axmuid")?Object(s["a"])("axmuid"):Object(s["a"])("userId"),a||(e.updateDom(),e.uid&&setTimeout((function(){e.getMessage()}),e.initDelay))},updateDom:function(){var t=i["a"].host.wwwSite+"/user/message",a='<span class="sep">|</span><span class="message"><a rel="nofollow" href="javascript:void(0);" data-href="'+t+'" class="J_needAgreement" data-login="true" data-agreement="true">消息通知<i class="J_miMessageTotal"></i></a></span>';e.Dom.$userInfo&&(e.login?e.Dom.$userInfo.querySelector(".user").insertAdjacentHTML("afterend",a):e.Dom.$userInfo.insertAdjacentHTML("beforeend",a))},updateMessageNum:function(){e.messageTotal>0?document.querySelector(".J_miMessageTotal").textContent="（"+e.messageTotal+"）":document.querySelector(".J_miMessageTotal").textContent=""},stopLoop:function(){e.loopTimer&&clearTimeout(e.loopTimer),e.loopSpeed=8e3,e.loopCount=0},creatPopDom:function(e){var t=document.createElement("div"),a=document.createElement("div");t.id="J_miMessagePop",t.className="message-pop-wrapper",a.className="message-pop-content";var n=document.createElement("a");if(n.className="close",n.href="javascript: void(0);",n.innerHTML='<i class="iconfont-close"></i>',e.autoClose){var i=document.createElement("div");i.className="message-countdown",i.innerHTML='<em id="J_messagePopCdTime">5</em> 秒后自动关闭',a.appendChild(i)}var o=document.createElement("a");return o.className="message-link",o.href=e.link,o.onclick="_msq.push(['trackEvent', '"+e.id+"', '"+e.link+"', 'pcpid']);",o.style.backgroundImage="url("+e.image+")",a.appendChild(n),a.appendChild(o),t.appendChild(a),t},getMessage:function(){e.loopCount>0&&e.loopCount%5===0&&e.loopSpeed<=3e4&&(e.loopSpeed=2*e.loopSpeed),e.loopCount+=1,o["a"].getMessage({vpage:location.href},{param:"jsonpcallback",name:"mi_message_callback",needLogin:!1,timeout:1e4}).then((function(t){if(t&&200===t.code&&(e.messageTotal=t.data.count,e.updateMessageNum(),1===t.data.loop?(e.loopTimer&&clearTimeout(e.loopTimer),e.loopTimer=setTimeout((function(){e.getMessage()}),e.loopSpeed)):e.stopLoop(),1===t.data.hasPop&&!e.popShow)){var a=e.getPopDom({id:t.data.popmsg.batch_id,image:t.data.popmsg.adv_img_url,link:t.data.popmsg.target,autoClose:t.data.popmsg.adv_auto_close});if(document.body.appendChild(a),n["a"].addEvt(a.querySelector(".close"),"click",(function(){a.classList.add="hide",setTimeout((function(){a.parentNode.removeChild(a)}),100)})),a.classList.add="active",e.popShow=!0,1===t.data.popmsg.adv_auto_close)var i=document.querySelector("#J_messagePopCdTime"),o=5,s=setInterval((function(){o<=0&&clearInterval(s),i.textContent=o,o-=1}),1e3)}}))}},t=function(){},a=function(){e.Dom.$userInfo=document.querySelector("#J_siteUserInfo")},c=function(){},r=function(){},u=function(){if(e){for(var t in e.objs){var a=e.objs[t];a&&a.destroy&&a.destroy()}e=null}},l=function(){t(),a(),c(),r()};return l(),{destroy:u,init:e.msgInit}}),r=(a("3bf3"),a("986e")),u=function(e){var t={Dom:{},needAgreeCookie:!1,source:"",nextUrl:"",agrContent:{title:"",desc:"",con:"",iframeData:""},objs:{},domEvtFuns:{clickCheck:function(e){var a=e.target,n="",i="",o="";a.getAttribute("data-agreement")&&(n=a.getAttribute("data-href")||"",i=a.getAttribute("data-login")||"",i?o="login":a.getAttribute("data-register")&&(o="register"),t.checkAgreementStatus({url:n,login:i,action:o}))},switchAgreeTab:function(e){var a=e.target;a.classList.contains("agree-tab")&&t.getPageContent(a.getAttribute("data-href"))}},checkAgreementStatus:function(e){if(e&&e.url){t.nextUrl=e.url;var a=/^(dev.test|mock|pc.test|www|item|list|order|cart|order|static|search|mall.10046|huanxin|recharge.10046|).*(mi.com$)/;a.test(window.location.host)?"1"===Object(s["a"])("XM_agreement_sure")&&e.login?window.location.href=e.url:(t.needAgreeCookie=!0,t.getAgreementInfo({action:e.action}).then((function(a){a.data.info.agree_info.length>0&&(e.login||!e.login&&!a.data.has_login)?t.formateAgreement(a.data.info):window.location.href=e.url})).catch((function(t){window.location.href=e.url}))):window.location.href=e.url}},getAgreementInfo:function(e){return new Promise((function(t,a){if(!e);o["a"].getAgreementInfo(e,{param:"jsonpcallback",name:"agreement_info"}).then((function(e){e&&200==e.code&&e.data?t(e):a(e)}),(function(e){a(e)}))}))},formateAgreement:function(e){var a='<div class="desc J_agreeTabs">';e.agree_info.map((function(t,n){a+='<span class="agree-tab" data-href="'.concat(t.link,'">').concat(t.name,"</span>"),n<e.agree_info.length-1&&(a+="、")})),a+=e.desc,t.agrContent.desc="".concat(a,"</div>"),t.agrContent.title=e.title,t.getPageContent(e.agree_info[0].link)},getPageContent:function(e){var a='<div class="con">',n=function(){t.agrContent.con="".concat(t.agrContent.desc+a,"</div>"),t.Dom.$contentWrapper?t.agrContent.iframeData?(t.Dom.$contentWrapper.innerHTML=t.agrContent.con,t.updateIframeContent()):t.Dom.$contentWrapper.innerHTML=t.agrContent.con:t.dialogShow()};/www\.mi\.com/.test(e)?o["a"].getPageContent({page_url:e},{param:"jsonpcallback"}).then((function(e){e&&1==e.code&&e.data&&(t.agrContent.iframeData=e.data,a+='<iframe id="J_agreementContentIframe" width="100%" height="300px" frameborder="0"></iframe>',n())}),(function(e){})):(t.agrContent.iframeData="",a+='<iframe src="'.concat(e,'" width="100%" height="300px" frameborder="0"></iframe>'),n())},updateContent:function(){var e=document.querySelector(".J_siteAgreementDialog");t.Dom.$contentWrapper=e.querySelector("#J_siteAgreementContent"),e.querySelector(".mi-dialog__title").textContent=t.agrContent.title||"协议声明",t.Dom.$contentWrapper.innerHTML=t.agrContent.con,t.updateIframeContent(),n["a"].addEvt(t.Dom.$contentWrapper,"click",t.domEvtFuns.switchAgreeTab)},updateIframeContent:function(){if(t.agrContent.iframeData){var e=t.Dom.$contentWrapper.querySelector("#J_agreementContentIframe");e&&("undefined"===typeof e.srcdoc?(e.contentWindow.document.open(),e.contentWindow.document.write(t.agrContent.iframeData),e.contentWindow.document.close()):e.srcdoc=t.agrContent.iframeData)}},sureAgreement:function(){return new Promise((function(e,a){o["a"].sureAgreement({},{param:"jsonpcallback",name:"agreement_sign"}).then((function(n){n&&200==n.code?(Object(s["a"])("XM_agreement","0",{expires:7,path:"/",domain:"mi.com"}),e(n)):a(),t.objs.$dialog&&t.objs.$dialog.hide()}),(function(e){a(),t.objs.$dialog&&t.objs.$dialog.hide()}))}))},agreeCallback:function(){t.needAgreeCookie&&(Object(s["a"])("XM_agreement","1",{expires:7,path:"/",domain:"mi.com"}),t.needAgreeCookie=!1),"home"==t.source?t.sureAgreement().then((function(e){})).catch((function(e){})):"checkout"==t.source?t.sureAgreement().then((function(e){t.sureCallback&&t.sureCallback()})).catch((function(e){})):(Object(s["a"])("XM_agreement_sure","1",{expires:365,path:"/",domain:"mi.com"}),window.location.href=t.nextUrl)},initCallback:function(e,a){if(t.source=e||"",t.sureCallback=a||"","agreement"!==e)return new Promise((function(n,i){t.getAgreementInfo().then((function(o){o.data.has_login||"home"!==e?(o.data.info.agree_info.length>0?t.formateAgreement(o.data.info):"checkout"===e&&a&&a(),"home"===e&&n()):(i(),t.source="")})).catch((function(t){"home"===e?n():"checkout"===e&&a&&a()}))}));t.sureAgreement().then((function(e){})).catch((function(e){}))},dialogShow:function(){t.objs.$dialog=r["a"].$dialog({type:"confirm",title:"协议声明",dialogClass:"dialog-site-agreement J_siteAgreementDialog",contentData:"contentData",content:'<div id="J_siteAgreementContent"><div class="loading"><div class="loader"></div></div></div>',okText:"同意",cancelText:"不同意",opened:function(){t.updateContent()},closed:function(){n["a"].removeEvt(t.Dom.$contentWrapper,"click",t.domEvtFuns.switchAgreeTab),t.Dom.$contentWrapper=null,t.objs.$dialog=null},ok:function(){t.agreeCallback()}})}},a=function(){if(!e)throw"args el is needed."},i=function(){},c=function(){},u=function(){n["a"].addEvt(e,"click",t.domEvtFuns.clickCheck),r["a"].$on("checkAgreementStatus",t.checkAgreementStatus),r["a"].$on("checkoutAgreement",(function(e){t.initCallback("checkout",e)}))},l=function(){if(t){for(var e in t.objs){var a=t.objs[e];a&&a.destroy&&a.destroy()}t=null}},d=function(){a(),i(),c(),u()};return d(),{destroy:l,initCallback:t.initCallback}},l=a("e3d1");t["a"]=function(e){var t={Dom:{},objs:{},domEvtFuns:{userMenuShow:function(){t.timeoutUserMenu&&clearTimeout(t.timeoutUserMenu),this.classList.add("user-active"),this.querySelector("#J_userMenuWrapper").style.height=this.querySelector("#J_userMenuWrapper").scrollHeight+"px"},userMenuHide:function(){var e=this;t.timeoutUserMenu=setTimeout((function(){e.classList.remove("user-active"),e.querySelector("#J_userMenuWrapper").style.height=0}),200)},logout:function(){sessionStorage.removeItem(t.proxyFlag)}},miid:Number(Object(s["a"])("userId"))||Object(s["a"])("cUserId"),miidLink:Object(s["a"])("xm_link_history"),userName:"",timeoutUserMenu:null,proxyFlag:"proxy_"+window.location.host,getUserName:function(){o["a"].getUserName({}).then((function(e){if(e&&200==e.code&&e.data&&e.data.user_id){var a=e.data.true_name?e.data.true_name:e.data.user_name;a=a||e.data.user_id;var n={path:"/",domain:".mi.com"};Object(s["a"])("XM_"+e.data.user_id+"_UN",a,n),t.loginCheckCb(e.data.user_id,a)}})).catch((function(e){}))},uuidCookie:function(){var e=("xmguest-"+l.v1()).toUpperCase(),t=Object(s["a"])("xmuuid");if(!t){var a={path:"/",domain:".mi.com",expires:365};Object(s["a"])("xmuuid",e,a)}},escape:function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},updateDom:function(){var a=t.userName||t.miid;"1"!==sessionStorage.getItem(t.proxyFlag)&&e&&(e.setProxy({name:"MiPROXY_ORDER",url:i["a"].host.orderProxy}),e.setProxy({name:"MiPROXY_HD",url:i["a"].host.hdiProxy}),sessionStorage.setItem(t.proxyFlag,"1"));var o='<div id="J_userMenuWrapper" class="user-menu-wrapper">\n                <ul class="user-menu">\n                    <li><a rel="nofollow"  href="'.concat(i["a"].host.wwwSite,'/user/portal" target="_blank">个人中心</a></li>\n                    <li><a rel="nofollow" href="').concat(i["a"].host.wwwSite,'/user/comment" target="_blank">评价晒单</a></li>\n                    <li><a rel="nofollow" href="').concat(i["a"].host.wwwSite,'/user/favorite" target="_blank">我的喜欢</a></li>\n                    <li><a rel="nofollow" href="').concat(i["a"].host.accountSite,'" target="_blank">小米账户</a></li>\n                    <li><a rel="nofollow" id="J_userLogout" href="').concat(i["a"].host.logoutUrl,'">退出登录</a></li>\n                </ul>\n            </div>'),s='<span class="user">\n            <a rel="nofollow" class="user-name" href="'.concat(i["a"].host.wwwSite,'/user/portal" target="_blank">\n                <span class="name">').concat(t.escape(a),'</span>\n                <i class="iconfont-arrow-down-mini"></i>\n            </a>').concat(o,'\n            </span>\n            <span class="sep">|</span>\n            <a rel="nofollow" class="link link-order" href="').concat(i["a"].host.wwwSite,'/user/orderList" target="_blank">我的订单</a>');t.Dom.$userInfo.innerHTML=s,t.Dom.$userTrigger=t.Dom.$userInfo.querySelector(".user"),t.Dom.$userLogout=document.querySelector("#J_userLogout"),t.objs.message.init(!0),n["a"].addEvt(t.Dom.$userTrigger,"mouseenter",t.domEvtFuns.userMenuShow),n["a"].addEvt(t.Dom.$userTrigger,"mouseleave",t.domEvtFuns.userMenuHide),n["a"].addEvt(t.Dom.$userLogout,"click",t.domEvtFuns.logout)},loginCheckCb:function(e,a){if(e){t.miid=e,t.userName=a||"";var n=Object(s["a"])("XM_agreement");setTimeout((function(){if(n&&"1"===n)t.updateDom(),t.objs.siteAgreement.initCallback("agreement");else if("/"===location.pathname||"/index.html"===location.pathname){var e=/^www.mi.com|pc.test.mi.com|pc.pre.mi.com/;e.test(window.location.host)?t.objs.siteAgreement.initCallback("home").then((function(e){t.updateDom()})).catch((function(e){Object(s["a"])("cUserId",null),Object(s["a"])("userId",null),Object(s["a"])("serviceToken",null)})):t.updateDom()}else t.updateDom()}),700)}},loginInit:function(){if(t.uuidCookie(),!t.miid){Object(s["a"])("XM_agreement","0",{expires:7,path:"/",domain:"mi.com"});var e=t.Dom.$userInfo.querySelector(".link[data-login='true']"),a=t.Dom.$userInfo.querySelector(".link[data-register='true']");return e.setAttribute("data-href",i["a"].host.orderLogin),e.setAttribute("href","javascript:void(0);"),a.setAttribute("data-href",a.getAttribute("href")),a.setAttribute("href","javascript:void(0);"),void t.objs.message.init(!1)}t.getUserName()}},a=function(){},r=function(){t.Dom.$userInfo=document.querySelector("#J_siteUserInfo")},d=function(){t.objs.siteAgreement=u(t.Dom.$userInfo),t.objs.message=c(),t.loginInit()},m=function(){},f=function(){if(t){for(var e in t.objs){var a=t.objs[e];a&&a.destroy&&a.destroy()}t=null}},p=function(){a(),r(),d(),m()};return p(),{destroy:f}}},"8c21":function(e,t,a){},"8c30":function(e,t,a){"use strict";a.r(t);a("b261");var n=a("8854");t["default"]=function(e,t){var a={objs:{}},i=function(){a.objs.setLoginInfo=Object(n["a"])()},o=function(){if(a){for(var e in a.objs){var t=a.objs[e];t&&t.destroy&&t.destroy()}a=null}},s=function(){i()};return s(),{destroy:o}}},9:function(e,t,a){e.exports=a("2112")},"91bf":function(e,t,a){"use strict";var n=a("bc47");function i(e){e.target=e.target||e.srcElement}var o=i;function s(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var c=s,r=document.addEventListener,u=r?function(e,t,a){e.removeEventListener(t,a,!1)}:function(e,t,a){e.detachEvent("on"+t,a)},l=u;t["a"]={addEvt:n["a"],evtFix:o,preventDefault:c,removeEvt:l}},9302:function(e,t,a){"use strict";function n(e,t){return new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)}t["a"]=n},"986e":function(e,t,a){"use strict";var n=a("a026");t["a"]=new n["a"]},"9b19":function(e,t,a){},"9dd2":function(e,t,a){"use strict";var n=a("7f19"),i=a("a417"),o={getMallConfig:function(e){return Object(n["a"])(i["a"].host.serviceApi+"/mall/config",e,{param:"jsonpcallback",name:"mallConfig"})}};t["a"]=o},"9f77":function(e,t,a){"use strict";var n=a("9302");function i(e,t){1===e.nodeType&&Object(n["a"])(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"($|\\s)")," "))}t["a"]=i},"9fb0":function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"g",(function(){return r})),a.d(t,"a",(function(){return u}));var n="EXCHANGE_",i="ADDRESS_LIST",o="BUY_COMFIRM",s="BUY_COMFIRM_ADDITEM",c="BUY_COMFIRM_PAY",r="OPEN_",u="ACTIVE_"},a35e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?a("div",{staticClass:"confirm-install-content"},["{}"!=JSON.stringify(e.pay.payMethodFromConfig.instalmentList)?a("div",{staticClass:"confirm-install"},[a("div",{staticClass:"section section-installment"},[a("div",{staticClass:"payment-box"},[e._m(0),a("div",{staticClass:"payment-body"},[a("ul",{staticClass:"clearfix payment-list J_paymentList"},e._l(e.pay.payMethodFromConfig.instalmentList,(function(t,n,i){return a("li",{staticClass:"J_bank",class:e.activeIndexs==i?"tab-active":"",attrs:{"data-type":n},on:{click:function(a){return e.tabSwitch(n,i,t)}}},[a("img",{attrs:{src:t.image}})])})),0),e._l(e.pay.payMethodFromConfig.instalmentList,(function(t,n,i){return a("div",{staticClass:"tab-container isinstalment-box clearfix",class:e.activeIndexs==i?"tab-active":""},[t.detail.length>0?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-context"},[e._l(t.detail,(function(t){return a("div",{staticClass:"isinstalment-item clearfix"},[a("div",{staticClass:"item-header"},[a("h3",[e._v(e._s(t.stage_cost)+"元   ×  "+e._s(t.stage)+"期")]),0==t.rate?a("p",{staticClass:"show"},[e._v("免息，无手续费")]):a("p",[e._v(" 手续费 "+e._s(t.stage_interest)+" 元/期"),t.is_differential_rate?a("span",[e._v("起")]):e._e()])]),a("div",{staticClass:"item-footer"},[a("input",{attrs:{type:"radio",name:"installments",id:"installments_cmbinstal_"+t.stage},domProps:{value:t.stage}}),a("a",{staticClass:"btn J_installmentConfirmBtn",attrs:{href:"javascript:void(0);"},on:{click:function(a){return e.installmentConfirm(t.stage)}}},[e._v("选择该分期方式")]),"ABC-INSTAL"===n?a("span",{staticClass:"abc"},[e._v("农行分期暂只支持K宝/K令支付")]):e._e()])])})),a("div",{staticClass:"isinstalment-desc"},[a("span",[e._v("分期付款说明：")]),a("p","antinstal"==n?[e._v("1、选择蚂蚁花呗分期后，如更改分期数或切换其他支付方式遇到问题，推荐您使用小米钱包进行支付。"),a("br"),e._v("2、每期还款金额是根据你的订单估算得出的金额，实际支付数额请以支付宝账单为准，支付宝有权决定是否接受您的分期付款申请。")]:"mifinanceinstal"==n?[e._v("每期还款金额是根据你的订单估算得出的金额，实际支付数额请以小米分期账单为准，小米分期有权决定是否接受您的分期付款申请。")]:[e._v("每期还款金额是根据你的订单估算得出的金额，实际支付数额请以银行/支付宝账单为准，银行/支付宝有权决定是否接受您的分期付款申请。")])])],2)]):e._e()])}))],2)])])]):e._e()]):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payment-header clearfix"},[a("h3",{staticClass:"title"},[e._v("分期付款")]),a("span",{staticClass:"desc"})])}],o=a("4360"),s=a("2f62");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l={name:"confirm-order",computed:r({},Object(s["c"])("buy_confirm",["cashAccount","pay","requestTime","submitdata"])),watch:{"pay.plat":{handler:function(){this.loading=!0},deep:!0}},data:function(){return{method:"",activeIndexs:-1,loading:!1}},mounted:function(){},methods:{tabSwitch:function(e,t,a){o["a"].dispatch("buy_confirm/add_item",{install_payOnlineBank:e}),0==a.detail.length?(o["a"].dispatch("buy_confirm/add_item",{isFenqi:!0}),this.$parent.submitFun()):this.activeIndexs=t},installmentConfirm:function(e){o["a"].dispatch("buy_confirm/add_item",{installments:e,isFenqi:!0}),this.$parent.submitFun()}}},d=l,m=(a("4b1a"),a("2877")),f=Object(m["a"])(d,n,i,!1,null,"6e5d12fe",null);t["a"]=f.exports},a417:function(e,t,a){"use strict";var n={orderSite:"//order.mi.com",orderApiSite:"//api.order.mi.com",cnOrderApi:"//cn.orderapi.mi.com",wwwSite:"//www.mi.com",oldWwwSite:"//www.mi.com",cartSite:"//cart.mi.com",itemSite:"//item.mi.com",assetsSite:"//s01.mifile.cn",listSite:"//list.mi.com",searchSite:"//search.mi.com",mySite:"//my.mi.com",damiaoSite:"//tp.hd.mi.com/",logoutUrl:"//order.mi.com/site/logout",staticSite:"//static.mi.com",hdiSite:"//i.huodong.mi.com",hdiProxy:"//i.huodong.mi.com/user/proxy/stop/1",hdaSite:"//a.huodong.mi.com",hdiLogin:"//i.huodong.mi.com/site/login?redirectUrl="+encodeURI(location.href),orderProxy:"//order.mi.com/user/proxy/stop/1",orderLogin:"//order.mi.com/site/login?redirectUrl="+encodeURI(location.href),quickLoginUrl:"https://account.xiaomi.com/pass/static/login.html",accountSite:"//account.xiaomi.com",searchApiSite:"//api.search.mi.com",hdInfo:"//tp.hd.mi.com/hdinfo/cn",hdGet:"//tp.hd.mi.com/hdget/cn",orderApi:"https://api2.order.mi.com",serviceApi:"https://api2.service.order.mi.com",serviceUrl:"//service.order.mi.com",recommendSite:"//rec.www.mi.com",productFileSite:"https://cdn.cnbj1.fds.api.mi-img.com/product-images",mSite:"https://m.mi.com"},i={orderSite:"//order.mi.com",orderApiSite:"//api.order.mi.com",cnOrderApi:"//cn.orderapi.mi.com",wwwSite:"//pc.pre.mi.com",oldWwwSite:"//www.mi.com",cartSite:"//cart.mi.com",itemSite:"//item.mi.com",assetsSite:"//s01.mifile.cn",listSite:"//list.mi.com",searchSite:"//search.mi.com",mySite:"//my.mi.com",damiaoSite:"//tp.hd.mi.com/",logoutUrl:"//order.mi.com/site/logout",staticSite:"//static.mi.com",hdiSite:"//i.huodong.mi.com",hdiProxy:"//i.huodong.mi.com/user/proxy/stop/1",hdaSite:"//a.huodong.mi.com",hdiLogin:"//i.huodong.mi.com/site/login?redirectUrl="+encodeURI(location.href),orderProxy:"//order.mi.com/user/proxy/stop/1",orderLogin:"//order.mi.com/site/login?redirectUrl="+encodeURI(location.href),quickLoginUrl:"https://account.xiaomi.com/pass/static/login.html",accountSite:"//account.xiaomi.com",searchApiSite:"//api.search.mi.com",hdInfo:"//tp.hd.mi.com/hdinfo/cn",hdGet:"//tp.hd.mi.com/hdget/cn",orderApi:"http://pc.order.pre.order.mi.com",serviceApi:"http://pc.service.pre.order.mi.com",serviceUrl:"http://service.order.mi.com",recommendSite:"//rec.www.mi.com",productFileSite:"https://cdn.cnbj1.fds.api.mi-img.com/product-images",mSite:"http://m.mi.com"},o={orderSite:"//order.test.mi.com",orderApiSite:"//api-order.test.mi.com",cnOrderApi:"//cn-orderapi.test.mi.com",wwwSite:"//pc.test.mi.com",oldWwwSite:"//www.test.mi.com",cartSite:"//cart.test.mi.com",itemSite:"//item.test.mi.com",assetsSite:"//assets.test.mi.com",listSite:"//list.test.mi.com",searchSite:"//search.test.mi.com",mySite:"//my.test.mi.com",damiaoSite:"//tp-hd.test.mi.com",logoutUrl:"//order.test.mi.com/site/logout",staticSite:"//static.test.mi.com",hdiSite:"//i-huodong.test.mi.com",hdiProxy:"//i-huodong.test.mi.com/user/proxy/stop/1",hdaSite:"//a-huodong.test.mi.com",hdiLogin:"//i-huodong.test.mi.com/site/login?redirectUrl="+encodeURI(location.href),orderProxy:"//order.test.mi.com/user/proxy/stop/1",orderLogin:"//order.test.mi.com/site/login?redirectUrl="+encodeURI(location.href),quickLoginUrl:"https://account.xiaomi.com/pass/static/login.html",accountSite:"//account.preview.n.xiaomi.net",searchApiSite:"//api-search.test.mi.com",hdInfo:"//tp-hd.test.mi.com/hdinfo/cn",hdGet:"//tp-hd.test.mi.com/hdget/cn",orderApi:"http://pc.order.test.mi.com",serviceApi:"http://pc.service.test.mi.com",serviceUrl:"http://service.order.test.mi.com",recommendSite:"//rec.www.mi.com",productFileSite:"https://cnbj1-fds.api.xiaomi.net/product-images-pre",mSite:"http://m.test.mi.com"},s=/test\.mi\.com/.test(window.location.host),c=/pre\.mi\.com/.test(window.location.host),r=/www\.mi\.com/.test(window.location.host),u=/^mock\./.test(window.location.host),l={};if(u)for(var d in o)l[d]="http://mock.be.mi.com/mock/502";var m={host:u?l:s?o:c?i:n,time:"//time.hd.mi.com/gettimestamp",productFileSite:s?o.productFileSite:c?i.productFileSite:n.productFileSite,isTest:s,isPre:c,isPro:r};t["a"]=m},a701:function(e,t,a){"use strict";var n=a("db4f"),i=a.n(n);i.a},a735:function(e,t,a){"use strict";var n=a("4485"),i=a.n(n);i.a},aaa1:function(e,t,a){},b0b8:function(e,t,a){"use strict";var n=a("1999"),i=a.n(n);i.a},b261:function(e,t,a){},b38c:function(e,t,a){"use strict";var n=function(e){var t=e&&e.url?e.url.search:location.search,a={};if(-1!=t.indexOf("?"))for(var n=t.substr(1),i=n.split("&"),o=0;o<i.length;o++){var s=i[o],c=s.indexOf("="),r=s.slice(0,c),u=s.slice(c+1);a[r]=decodeURI(u)}return a&&e&&e.name?a[e.name]:a},i=function(e){var t=location.hash,a=new Object;if(-1!=t.indexOf("#"))for(var n=t.substr(1),i=n.split("&"),o=0;o<i.length;o++)a[i[o].split("=")[0]]=decodeURI(i[o].split("=")[1]);return e?a[e]:a};t["a"]={getParam:n,getHash:i}},b3b6:function(e,t,a){"use strict";var n=a("ee78"),i=a.n(n);i.a},ba6e:function(e,t,a){},bc47:function(e,t,a){"use strict";var n=document.addEventListener,i=function(e,t,a,n){e&&e.addEventListener(t,a,void 0!==n&&n)},o=function(e,t,a){e&&e.attachEvent("on"+t,a)};t["a"]=n?i:o},c2ac:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.inputClass},[a("label",{staticClass:"input-label",attrs:{for:e.name},on:{click:e.labelClick}},[e._v(e._s(e.label))]),"textarea"!==e.type?a("input",{ref:"J_miInput",class:"input-text "+(e.label?"":"show-placeholder"),style:e.inputStyle,attrs:{type:e.type,name:e.name,placeholder:e.placeholder,readonly:e.readonly,maxlength:e.maxlens,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:e.focusEvent,blur:e.blurEvent,input:e.inputEvent}}):e._e(),"textarea"===e.type&&(e.value||e.fixIEshowError)?a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"J_miInput",staticClass:"input-text",attrs:{name:e.name,placeholder:e.placeholder,maxlength:e.maxlens,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:e.focusEvent,blur:e.blurEvent,input:[function(t){t.target.composing||(e.value=t.target.value)},e.inputEvent]}}):e._e(),e.clear?a("i",{staticClass:"iconfont iconfont-circle-close clear",class:{show:e.showClear},on:{click:e.clearVal}}):e._e(),a("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMsg,expression:"errorMsg"}],staticClass:"msg msg-error"},[e._v(e._s(e.errorMsg))]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errorMsg,expression:"errorMsg"}],staticClass:"iconfont-circle-close icon-error"})])},i=[],o={name:"mi-input",props:{name:{type:String,default:""},type:{type:String,default:"text"},label:{type:String,default:""},placeholder:{type:String,default:"请输入"},maxlens:{type:String,default:""},readonly:{type:Boolean,default:!1},errorMsg:{type:String,default:""},autofocus:{type:Boolean,default:!1},val:{type:String,default:""},autocomplete:{type:String,default:"off"},customClass:{type:String,default:""},inputStyle:{type:Object,default:null},clear:{type:Boolean,default:!1}},data:function(){return{focus:!1,value:"",showClear:!1,fixIEshowError:!1}},computed:{inputClass:function(){var e="mi-input ";return this.focus?e+="mi-input-focus mi-input-active ":this.value&&(e+="mi-input-active "),this.errorMsg&&(e+="mi-input-error "),e+this.customClass}},watch:{val:function(e){this.value=e},errorMsg:function(e){e&&this.$refs.J_miInput.focus()},autofocus:function(e,t){e&&this.$refs.J_miInput.focus()}},methods:{focusEvent:function(){this.focus=!0,this.$emit("focus",{name:this.name})},blurEvent:function(e){var t=e.target.value.trim();this.value=t,this.focus=!1,this.$emit("blur",{name:this.name,value:t})},labelClick:function(){this.focus=!0,this.$refs.J_miInput.focus()},inputEvent:function(e){var t=e?e.target.value.trim():this.value;this.value=t,this.showClear=this.clear&&this.value.length>0,this.$emit("input",{name:this.name,value:t})},clearVal:function(){this.value="",this.inputEvent()}},mounted:function(){var e=this;this.val&&(this.value=this.val),this.autofocus&&this.$refs.J_miInput.focus(),this.$nextTick((function(){e.fixIEshowError=!0}))},beforeDestroy:function(){}},s=o,c=(a("b3b6"),a("2877")),r=Object(c["a"])(s,n,i,!1,null,"968989be",null);t["a"]=r.exports},c474:function(e,t,a){},c5b48:function(e,t,a){"use strict";var n=a("11b5"),i=a.n(n);i.a},d4c3:function(e,t,a){"use strict";var n=a("8c21"),i=a.n(n);i.a},db4f:function(e,t,a){},e3d1:function(e,t,a){(function(n){var i;(function(){var o,s=this;if(!o&&s.crypto&&crypto.getRandomValues){var c=new Uint8Array(16);o=function(){return crypto.getRandomValues(c),c}}if(!o){var r=new Array(16);o=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}for(var u="function"===typeof n?n:Array,l=[],d={},m=0;m<256;m++)l[m]=(m+256).toString(16).substr(1),d[l[m]]=m;function f(e,t,a){var n=t&&a||0,i=0;t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[n+i++]=d[e])}));while(i<16)t[n+i++]=0;return t}function p(e,t){var a=t||0,n=l;return n[e[a++]]+n[e[a++]]+n[e[a++]]+n[e[a++]]+"-"+n[e[a++]]+n[e[a++]]+"-"+n[e[a++]]+n[e[a++]]+"-"+n[e[a++]]+n[e[a++]]+"-"+n[e[a++]]+n[e[a++]]+n[e[a++]]+n[e[a++]]+n[e[a++]]+n[e[a++]]}var h=o(),_=[1|h[0],h[1],h[2],h[3],h[4],h[5]],v=16383&(h[6]<<8|h[7]),b=0,g=0;function y(e,t,a){var n=t&&a||0,i=t||[];e=e||{};var o=null!=e.clockseq?e.clockseq:v,s=null!=e.msecs?e.msecs:(new Date).getTime(),c=null!=e.nsecs?e.nsecs:g+1,r=s-b+(c-g)/1e4;if(r<0&&null==e.clockseq&&(o=o+1&16383),(r<0||s>b)&&null==e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=s,g=c,v=o,s+=122192928e5;var u=(1e4*(268435455&s)+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=255&u;var l=s/4294967296*1e4&268435455;i[n++]=l>>>8&255,i[n++]=255&l,i[n++]=l>>>24&15|16,i[n++]=l>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var d=e.node||_,m=0;m<6;m++)i[n+m]=d[m];return t||p(i)}function w(e,t,a){var n=t&&a||0;"string"===typeof e&&(t="binary"===e?new u(16):null,e=null),e=e||{};var i=e.random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;s++)t[n+s]=i[s];return t||p(i)}var C=w;if(C.v1=y,C.v4=w,C.parse=f,C.unparse=p,C.BufferClass=u,s.define&&a("3c35"))i=function(){return C}.call(t,a,t,e),void 0===i||(e.exports=i);else if(e.exports)e.exports=C;else{var x=s.uuid;C.noConflict=function(){return s.uuid=x,C},s.uuid=C}}).call(window)}).call(this,a("b639").Buffer)},ee78:function(e,t,a){},efd9:function(e,t,a){"use strict";var n=a("2ec8"),i=function(e){if("string"!==typeof e)throw"encodeHTML need a string as parameter";return e.replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\u00A0/g,"&nbsp;").replace(/(\u0020|\u000B|\u2028|\u2029|\f)/g,"&#32;")},o=a("986e"),s=a("a417"),c=a("9dd2");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var m=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp");t["a"]={showContact:function(e){c["a"].getMallConfig({key:"service_chat_url"}).then((function(t){if(t&&200==t.code&&t.data){var a={key:"pc",name:"小米客服"};a=Object.assign({},a,e),a.path=t.data[a.key],e&&(e.pids&&(a.path+="&pids="+e.pids),e.gids&&(a.path+="&gids="+e.gids));var n=510,i=790,o=(window.screen.availHeight-i)/2,s=(window.screen.availWidth-n)/2;window.open(a.path,a.name,"top=".concat(o,",left=").concat(s,",height=").concat(i,",width=").concat(n,",status=no,toolbar=no,menubar=no,location=no,resizable=no,scrollbars=0,titlebar=no,ullscreen=no"))}}))},getActionUrl:function(e){if(!e||!e.type)return"";var t="",a=e.path,n=e.default_line,i=e.goodsId;switch(e.type){case"product":case"plugin":t="".concat(s["a"].host.wwwSite,"/buy?product_id=").concat(a),n&&(t="".concat(t,"&default_line=").concat(n)),i&&(t="".concat(t,"&default_goodsId=").concat(i));break;case"url":case"activity":t=0==a.indexOf("#")?"#J_nav_".concat(a.substring(1)):a;break;case"pc_activity":t="".concat(s["a"].host.wwwSite,"/a/h/").concat(a,".html");break;case"pc_channel":t="".concat(s["a"].host.wwwSite,"/p/").concat(a,".html");break;case"homepage":t="".concat(s["a"].host.wwwSite,"/index.html");break;case"seckill":t="".concat(s["a"].host.wwwSite,"/buy/seckill");break;case"keyword":t="".concat(s["a"].host.wwwSite,"/search?keyword=").concat(encodeURIComponent(a));break}return t},formatImageHttp:function(e){return e?e.replace(/^http(s?):/i,""):e},alertTip:function(e){if(e){var t={desc:"",msg:"",isHideFoot:!1,okText:"确定",customClass:"",width:"480px",onShow:function(){},onHide:function(){}};"string"===typeof e?t.msg=e:"object"===d(e)&&(t=u({},t,{},e));var a=o["a"].$dialog({type:e.isHideFoot?"plain":"alert",isHideHeader:!0,width:t.width,dialogClass:"mi-dialog-alert ".concat(t.customClass),content:'<div class="alert-desc">'.concat(i(t.desc),'</div><div class="alert-msg">').concat(i(t.msg),"</div>"),okText:i(t.okText),ok:function(){},opened:function(){t.onShow&&t.onShow()},closed:function(){t.onHide&&t.onHide()}});return a}},confirmTip:function(e){var t={title:"",desc:"",msg:"",width:"480px",customClass:"",okText:"确定",cancelText:"取消",hideModal:!0,onOk:function(){},onCancel:function(){}};t=u({},t,{},e);var a=o["a"].$dialog({type:"confirm",isHideHeader:!0,width:t.width,dialogClass:"mi-dialog-alert ".concat(t.customClass),content:'<div class="confirm-msg"><h3>'.concat(i(t.title),"</h3><div >").concat(i(t.desc),"</div><div >").concat(i(t.msg),"</div></div>"),okText:i(t.okText),cancelText:i(t.cancelText),ok:function(){t.hideModal&&a.hide(),t.onOk&&t.onOk()},cancel:function(){t.onCancel&&t.onCancel()}});return a},checkLoginStatus:function(){return!(!Object(n["a"])("cUserId")&&!Object(n["a"])("userId"))},setProxy:function(e){var t,a=document.createElement("iframe");a.name="Mi".concat(e.name||"_iframe"),a.style.cssText="width:0px;height:0px;border:0px;overflow:hidden;position:absolute;top:-1000px",a.onload=a.onerror=function(){a.onerror=a.onload=null,window.clearTimeout(t),e.callback&&e.callback(),a.parentNode.removeChild(a)},t=setTimeout((function(){e.callback&&e.callback()}),5e3),a.src=e.url,document.body.appendChild(a)},colorRgb:function(e,t){var a=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,n=e.toLowerCase();if(n&&a.test(n)){if(4===n.length){for(var i="#",o=1;o<4;o+=1)i+=n.slice(o,o+1).concat(n.slice(o,o+1));n=i}var s=[];for(o=1;o<7;o+=2)s.push(parseInt("0x".concat(n.slice(o,o+2))));return"rgba(".concat(s.join(","),", ").concat(t,")")}return n},formatImageSize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;if(e&&t&&a){var n=window.devicePixelRatio||1,i=/mi\-img\.com/.test(e),o=/mifile\.cn/.test(e),s=/cdn\.cnbj1\.fds\.api\.mi\-img\.com/.test(e),c=e.split("?")[0],r="",u=Math.round(t*n),l=Math.round(a*n);if(i)r="".concat(c,"?thumb=1&w=").concat(u,"&h=").concat(l);else if(o){var d=c.substr(c.lastIndexOf(".")+1),f=c.substr(0,c.lastIndexOf("."));r="".concat(f,"!").concat(u,"x").concat(l,".").concat(d)}else r=e;return m&&s&&(r+="&f=webp&q=90"),r}}}},fe4b:function(e,t,a){},fe6a:function(e,t,a){"use strict";var n=a("7f19"),i=a("a417"),o=a("751a");t["a"]={getSearchTip:function(e,t){return Object(n["a"])(i["a"].host.orderApi+"/search/query",e,t)},getSearchRecommend:function(e,t){return Object(n["a"])(i["a"].host.orderApi+"/search/droplist",e,t)},getBoxRecommend:function(e,t){return Object(n["a"])(i["a"].host.orderApi+"/search/box",e,t)},getMessage:function(e,t){return Object(n["a"])(i["a"].host.serviceApi+"/msg/pick",e,t)},loginInit:function(e,t){return Object(n["a"])("//userid.xiaomi.com/userId",e,t)},getAgreementInfo:function(e,t){var a=i["a"].host.serviceApi,o=["login","register"];return e&&e.action&&o.includes(e.action)?a+="/agreement/actioninfo":a+="/agreement/info",Object(n["a"])(a,e,t)},getPageContent:function(e,t){return Object(n["a"])(i["a"].host.orderSite+"/api/getPageContent.php",e,t)},sureAgreement:function(e,t){return Object(n["a"])(i["a"].host.serviceApi+"/agreement/sign",e,t)},getUserName:function(e,t){return o["a"].get("".concat(i["a"].host.serviceApi,"/user/userinfo"),e,t)}}}});
//# sourceMappingURL=confirm.21ead621.js.map